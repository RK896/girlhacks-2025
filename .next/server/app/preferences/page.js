(()=>{var e={};e.id=509,e.ids=[509],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2518:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(8705),s(3207),s(5866);var a=s(3191),t=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let d=["",{children:["preferences",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8705)),"C:\\Users\\shiva\\Documents\\GitHub\\girlhacks-2025-main\\girlhacks-2025\\app\\preferences\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3207)),"C:\\Users\\shiva\\Documents\\GitHub\\girlhacks-2025-main\\girlhacks-2025\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\shiva\\Documents\\GitHub\\girlhacks-2025-main\\girlhacks-2025\\app\\preferences\\page.jsx"],m="/preferences/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/preferences/page",pathname:"/preferences",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8575:(e,r,s)=>{Promise.resolve().then(s.bind(s,4833))},731:(e,r,s)=>{Promise.resolve().then(s.bind(s,6607))},4044:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4833:(e,r,s)=>{"use strict";s.d(r,{AuthProvider:()=>o,a:()=>l});var a=s(326),t=s(7577),n=s(6615);let i=(0,t.createContext)();function l(){return(0,t.useContext)(i)}function o({children:e}){let[r,s]=(0,t.useState)(null),[l,o]=(0,t.useState)(!0),d=async(e,r,a)=>{try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r,name:a})}),i=await t.json();if(!t.ok)throw Error(i.error||"Registration failed");return(0,n.setCookie)("token",i.token,{maxAge:604800}),s(i.user),i}catch(e){throw e}},c=async(e,r)=>{try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),t=await a.json();if(!a.ok)throw Error(t.error||"Login failed");return(0,n.setCookie)("token",t.token,{maxAge:604800}),s(t.user),t}catch(e){throw e}},m=async()=>{throw Error("Google login not implemented yet")};return a.jsx(i.Provider,{value:{currentUser:r,signup:d,login:c,loginWithGoogle:m,logout:()=>{(0,n.deleteCookie)("token"),s(null)}},children:!l&&e})}},6607:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var a=s(326),t=s(7577),n=s(5047),i=s(4833);function l(){let{currentUser:e}=(0,i.a)(),[r,s]=(0,t.useState)({enabled:!1,frequency:"daily",timeOfDay:"evening",specificTime:"20:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],timezone:"UTC"}),[n,l]=(0,t.useState)(!0),[o,d]=(0,t.useState)(!1),[c,m]=(0,t.useState)(""),u=async()=>{d(!0),m("");try{console.log("Demo mode: Saving preferences:",r),await new Promise(e=>setTimeout(e,1e3)),m("Preferences saved successfully! (Demo Mode)"),setTimeout(()=>m(""),3e3)}catch(e){console.error("Error saving preferences:",e),m("Failed to save preferences. Please try again.")}finally{d(!1)}},h=e=>{s(r=>({...r,frequency:e,daysOfWeek:"weekly"===e||"biweekly"===e?r.daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}))},x=e=>{s(r=>({...r,daysOfWeek:r.daysOfWeek.includes(e)?r.daysOfWeek.filter(r=>r!==e):[...r.daysOfWeek,e]}))};return n?a.jsx("div",{className:"temple-container p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-gold-main border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading preferences..."})]})}):(0,a.jsxs)("div",{className:"temple-container",children:[a.jsx("h2",{className:"section-header mb-8",children:"\uD83D\uDCE7 Email Reminder Preferences"}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Email Reminders"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Receive gentle reminders to maintain your journaling practice"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.enabled,onChange:e=>s(r=>({...r,enabled:e.target.checked})),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-main/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-main"})]})]})}),r.enabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Reminder Frequency"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"daily",label:"Daily",icon:"\uD83D\uDCC5"},{value:"weekly",label:"Weekly",icon:"\uD83D\uDCC6"},{value:"biweekly",label:"Bi-weekly",icon:"\uD83D\uDDD3️"},{value:"monthly",label:"Monthly",icon:"\uD83D\uDCCA"}].map(e=>(0,a.jsxs)("button",{onClick:()=>h(e.value),className:`p-3 rounded-lg border-2 transition-all ${r.frequency===e.value?"border-gold-main bg-gold-main/10 text-gold-main":"border-gray-200 hover:border-gold-main/50"}`,children:[a.jsx("div",{className:"text-lg mb-1",children:e.icon}),a.jsx("div",{className:"font-medium",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Time of Day"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"morning",label:"Morning",icon:"\uD83C\uDF05",time:"08:00"},{value:"afternoon",label:"Afternoon",icon:"☀️",time:"14:00"},{value:"evening",label:"Evening",icon:"\uD83C\uDF19",time:"20:00"}].map(e=>(0,a.jsxs)("button",{onClick:()=>s(r=>({...r,timeOfDay:e.value,specificTime:e.time})),className:`p-3 rounded-lg border-2 transition-all ${r.timeOfDay===e.value?"border-gold-main bg-gold-main/10 text-gold-main":"border-gray-200 hover:border-gold-main/50"}`,children:[a.jsx("div",{className:"text-lg mb-1",children:e.icon}),a.jsx("div",{className:"font-medium",children:e.label}),a.jsx("div",{className:"text-xs text-gray-500",children:e.time})]},e.value))})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Custom Time"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-gray-600",children:"Send reminders at:"}),a.jsx("input",{type:"time",value:r.specificTime,onChange:e=>s(r=>({...r,specificTime:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold-main focus:border-gold-main"}),a.jsx("span",{className:"text-sm text-gray-500",children:"(24-hour format)"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Tip: Choose a time when you're most likely to journal"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Timezone"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-gray-600",children:"Your timezone:"}),(0,a.jsxs)("select",{value:r.timezone,onChange:e=>s(r=>({...r,timezone:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold-main focus:border-gold-main",children:[a.jsx("option",{value:"UTC",children:"UTC (Coordinated Universal Time)"}),a.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),a.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),a.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),a.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),a.jsx("option",{value:"Europe/London",children:"London (GMT)"}),a.jsx("option",{value:"Europe/Paris",children:"Paris (CET)"}),a.jsx("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),a.jsx("option",{value:"Asia/Shanghai",children:"Shanghai (CST)"}),a.jsx("option",{value:"Australia/Sydney",children:"Sydney (AEST)"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83C\uDF0D Reminders will be sent according to your local timezone"})]}),("weekly"===r.frequency||"biweekly"===r.frequency)&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Days of Week"}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}].map(e=>a.jsx("button",{onClick:()=>x(e.key),className:`p-2 rounded-lg border-2 transition-all text-sm ${r.daysOfWeek.includes(e.key)?"border-gold-main bg-gold-main/10 text-gold-main":"border-gray-200 hover:border-gold-main/50"}`,children:e.label.slice(0,3)},e.key))})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gold-main/10 to-athena-blue/10 rounded-lg p-6 border border-gold-main/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCB Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-gray-700",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Frequency:"})," ",r.frequency.charAt(0).toUpperCase()+r.frequency.slice(1)]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Time:"})," ",r.specificTime," (",r.timeOfDay,")"]}),("weekly"===r.frequency||"biweekly"===r.frequency)&&(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Days:"})," ",r.daysOfWeek.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:u,disabled:o,className:"altar-button px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":"Save Preferences"})}),c&&a.jsx("div",{className:`text-center p-4 rounded-lg ${c.includes("success")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:c})]})]})}function o(){let{currentUser:e}=(0,i.a)(),r=(0,n.useRouter)(),[s,o]=(0,t.useState)({reminderCount:0,lastReminderSent:null,enabled:!1}),d=async()=>{try{let e=document.cookie.split("; ").find(e=>e.startsWith("token="))?.split("=")[1],r=await fetch("/api/reminders",{headers:{Authorization:`Bearer ${e}`}});if(r.ok){let e=await r.json();o(e)}}catch(e){console.error("Error fetching reminder stats:",e)}},c=async()=>{try{let e=document.cookie.split("; ").find(e=>e.startsWith("token="))?.split("=")[1],r=await fetch("/api/reminders",{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(r.ok)alert("Test reminder sent successfully!"),d();else{let e=await r.json();alert(`Failed to send reminder: ${e.error}`)}}catch(e){console.error("Error sending test reminder:",e),alert("Failed to send test reminder")}};return e?(0,a.jsxs)("main",{className:"min-h-screen py-8 px-4 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gold-main/5 rounded-full blur-xl animate-float"}),a.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-athena-blue/10 rounded-full blur-lg animate-float",style:{animationDelay:"2s"}}),a.jsx("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 bg-marble-light/20 rounded-full blur-2xl animate-float",style:{animationDelay:"4s"}}),a.jsx("div",{className:"absolute bottom-40 right-1/3 w-28 h-28 bg-gold-main/8 rounded-full blur-xl animate-float",style:{animationDelay:"6s"}})]}),a.jsx("div",{className:"fixed top-4 left-4 z-50",children:a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg border border-gold-main/20",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-gray-700 font-medium",children:"Athena's Journal"})]})})}),a.jsx("nav",{className:"absolute top-4 right-4 z-50",children:a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-6 py-3 shadow-lg border border-gold-main/20",children:a.jsx("div",{className:"flex items-center space-x-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Welcome, ",e.name]})]}),a.jsx("button",{onClick:()=>r.push("/"),className:"text-sm text-gray-600 hover:text-athena-blue transition-colors font-medium px-3 py-1 rounded-md hover:bg-gray-100",children:"Back to Journal"})]})})})}),(0,a.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8 fade-in",children:[a.jsx("h1",{className:"temple-header mb-6",children:"⚙️ Preferences"}),a.jsx("p",{className:"text-lg sm:text-xl text-gray-700 max-w-2xl mx-auto leading-relaxed",children:"Customize your Athena's Journal experience and manage your email reminders."})]}),s.enabled&&(0,a.jsxs)("div",{className:"temple-container p-6 mb-8",children:[a.jsx("h3",{className:"section-header mb-6",children:"\uD83D\uDCCA Reminder Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-gold-main mb-2",children:s.reminderCount}),a.jsx("div",{className:"text-gray-600",children:"Total Reminders Sent"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-athena-blue mb-2",children:s.lastReminderSent?new Date(s.lastReminderSent).toLocaleDateString():"Never"}),a.jsx("div",{className:"text-gray-600",children:"Last Reminder Sent"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:c,className:"altar-button px-6 py-2 text-sm",children:"Send Test Reminder"})})]})]}),a.jsx(l,{})]})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-marble-light via-white to-marble-dark flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"\uD83C\uDFDB️"}),a.jsx("div",{className:"text-xl text-gray-600",children:"Redirecting to Athena's Temple..."})]})})}},5047:(e,r,s)=>{"use strict";var a=s(7389);s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},3207:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d,metadata:()=>o});var a=s(9510),t=s(2584),n=s.n(t);s(7272);var i=s(8570);(0,i.createProxy)(String.raw`C:\Users\shiva\Documents\GitHub\girlhacks-2025-main\girlhacks-2025\app\contexts\AuthContext.jsx#useAuth`);let l=(0,i.createProxy)(String.raw`C:\Users\shiva\Documents\GitHub\girlhacks-2025-main\girlhacks-2025\app\contexts\AuthContext.jsx#AuthProvider`),o={title:"Athena's Journal - Divine Wisdom for Mortal Souls",description:"A sacred journaling experience where ancient wisdom meets modern AI"};function d({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[(0,a.jsxs)("head",{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&display=swap",rel:"stylesheet"})]}),a.jsx("body",{className:`${n().className} bg-gradient-to-br from-marble-light to-marble-dark min-h-screen`,children:a.jsx(l,{children:e})})]})}},8705:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\shiva\Documents\GitHub\girlhacks-2025-main\girlhacks-2025\app\preferences\page.jsx#default`)},7272:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[276,467],()=>s(2518));module.exports=a})();