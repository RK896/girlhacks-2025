"use strict";(()=>{var e={};e.id=119,e.ids=[119],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3627:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>er,patchFetch:()=>el,requestAsyncStorage:()=>es,routeModule:()=>eo,serverHooks:()=>ea,staticGenerationAsyncStorage:()=>ei});var o,s,i,a,r,l,c,d,u,h,f,g,p={};n.r(p),n.d(p,{POST:()=>en});var m=n(9303),y=n(8716),E=n(670),C=n(7070);(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(o||(o={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(s||(s={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(i||(i={}));let w=["user","model","function","system"];(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(a||(a={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(r||(r={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(l||(l={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(c||(c={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(d||(d={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(u||(u={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(h||(h={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(f||(f={}));class O extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class v extends O{constructor(e,t){super(e),this.response=t}}class I extends O{constructor(e,t,n,o){super(e),this.status=t,this.statusText=n,this.errorDetails=o}}class A extends O{}class _ extends O{}!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(g||(g={}));class T{constructor(e,t,n,o,s){this.model=e,this.task=t,this.apiKey=n,this.stream=o,this.requestOptions=s}toString(){var e,t;let n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta",o=(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com",s=`${o}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}async function R(e){var t;let n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){let t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("genai-js/0.24.1"),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let o=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(e){throw new A(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${e.message}`)}for(let[e,t]of o.entries()){if("x-goog-api-key"===e)throw new A(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new A(`Header name ${e} can only be set using the apiClient field`);n.append(e,t)}}return n}async function b(e,t,n,o,s,i){let a=new T(e,t,n,o,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let n=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}(i)),{method:"POST",headers:await R(a),body:s})}}async function S(e,t,n,o,s,i={},a=fetch){let{url:r,fetchOptions:l}=await b(e,t,n,o,s,i);return N(r,l,a)}async function N(e,t,n=fetch){let o;try{o=await n(e,t)}catch(t){(function(e,t){let n=e;throw"AbortError"===n.name?(n=new _(`Request aborted when fetching ${t.toString()}: ${e.message}`)).stack=e.stack:e instanceof I||e instanceof A||((n=new O(`Error fetching from ${t.toString()}: ${e.message}`)).stack=e.stack),n})(t,e)}return o.ok||await M(o,e),o}async function M(e,t){let n,o="";try{let t=await e.json();o=t.error.message,t.error.details&&(o+=` ${JSON.stringify(t.error.details)}`,n=t.error.details)}catch(e){}throw new I(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${o}`,e.status,e.statusText,n)}function L(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),D(e.candidates[0]))throw new v(`${P(e)}`,e);return function(e){var t,n,o,s;let i=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(let t of null===(s=null===(o=e.candidates)||void 0===o?void 0:o[0].content)||void 0===s?void 0:s.parts)t.text&&i.push(t.text),t.executableCode&&i.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&i.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}(e)}if(e.promptFeedback)throw new v(`Text not available. ${P(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),D(e.candidates[0]))throw new v(`${P(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),x(e)[0]}if(e.promptFeedback)throw new v(`Function call not available. ${P(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),D(e.candidates[0]))throw new v(`${P(e)}`,e);return x(e)}if(e.promptFeedback)throw new v(`Function call not available. ${P(e)}`,e)},e}function x(e){var t,n,o,s;let i=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(let t of null===(s=null===(o=e.candidates)||void 0===o?void 0:o[0].content)||void 0===s?void 0:s.parts)t.functionCall&&i.push(t.functionCall);return i.length>0?i:void 0}let k=[d.RECITATION,d.SAFETY,d.LANGUAGE];function D(e){return!!e.finishReason&&k.includes(e.finishReason)}function P(e){var t,n,o;let s="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)s+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(s+=` due to ${e.promptFeedback.blockReason}`),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null===(o=e.candidates)||void 0===o?void 0:o[0]){let t=e.candidates[0];D(t)&&(s+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(s+=`: ${t.finishMessage}`))}return s}function H(e){return this instanceof H?(this.v=e,this):new H(e)}"function"==typeof SuppressedError&&SuppressedError;let j=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function F(e){let t=[],n=e.getReader();for(;;){let{done:e,value:o}=await n.read();if(e)return L(function(e){let t=e[e.length-1],n={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let o of t.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=o.citationMetadata,n.candidates[e].groundingMetadata=o.groundingMetadata,n.candidates[e].finishReason=o.finishReason,n.candidates[e].finishMessage=o.finishMessage,n.candidates[e].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[e].content||(n.candidates[e].content={role:o.content.role||"user",parts:[]});let t={};for(let s of o.content.parts)s.text&&(t.text=s.text),s.functionCall&&(t.functionCall=s.functionCall),s.executableCode&&(t.executableCode=s.executableCode),s.codeExecutionResult&&(t.codeExecutionResult=s.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),n.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(n.usageMetadata=t.usageMetadata)}return n}(t));t.push(o)}}async function G(e,t,n,o){return function(e){let[t,n]=(function(e){let t=e.getReader();return new ReadableStream({start(e){let n="";return function o(){return t.read().then(({value:t,done:s})=>{let i;if(s){if(n.trim()){e.error(new O("Failed to parse stream"));return}e.close();return}let a=(n+=t).match(j);for(;a;){try{i=JSON.parse(a[1])}catch(t){e.error(new O(`Error parsing JSON response: "${a[1]}"`));return}e.enqueue(i),a=(n=n.substring(a[0].length)).match(j)}return o()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new _("Request aborted when reading from the stream"):new O("Error reading from the stream")})}()}})})(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:function(e){return function(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var o,s=n.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){s[e]&&(o[e]=function(t){return new Promise(function(n,o){i.push([e,t,n,o])>1||r(e,t)})})}function r(e,t){try{var n;(n=s[e](t)).value instanceof H?Promise.resolve(n.value.v).then(l,c):d(i[0][2],n)}catch(e){d(i[0][3],e)}}function l(e){r("next",e)}function c(e){r("throw",e)}function d(e,t){e(t),i.shift(),i.length&&r(i[0][0],i[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:n}=yield H(t.read());if(n)break;yield yield H(L(e))}})}(t),response:F(n)}}(await S(t,g.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),o))}async function U(e,t,n,o){let s=await S(t,g.GENERATE_CONTENT,e,!1,JSON.stringify(n),o);return{response:L(await s.json())}}function $(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Y(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let n of e)"string"==typeof n?t.push({text:n}):t.push(n);return function(e){let t={role:"user",parts:[]},n={role:"function",parts:[]},o=!1,s=!1;for(let i of e)"functionResponse"in i?(n.parts.push(i),s=!0):(t.parts.push(i),o=!0);if(o&&s)throw new O("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!s)throw new O("No content is provided for sending chat message.");return o?t:n}(t)}function B(e){let t;return t=e.contents?e:{contents:[Y(e)]},e.systemInstruction&&(t.systemInstruction=$(e.systemInstruction)),t}let K=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],q={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function V(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n||void 0===n.parts||0===n.parts.length)return!1;for(let e of n.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}let J="SILENT_ERROR";class W{constructor(e,t,n,o={}){this.model=t,this.params=n,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==n?void 0:n.history)&&(function(e){let t=!1;for(let n of e){let{role:e,parts:o}=n;if(!t&&"user"!==e)throw new O(`First content should be with role 'user', got ${e}`);if(!w.includes(e))throw new O(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(w)}`);if(!Array.isArray(o))throw new O("Content should have 'parts' property with an array of Parts");if(0===o.length)throw new O("Each Content should have at least one part");let s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of o)for(let t of K)t in e&&(s[t]+=1);let i=q[e];for(let t of K)if(!i.includes(t)&&s[t]>0)throw new O(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var n,o,s,i,a,r;let l;await this._sendPromise;let c=Y(e),d={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(s=this.params)||void 0===s?void 0:s.tools,toolConfig:null===(i=this.params)||void 0===i?void 0:i.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(r=this.params)||void 0===r?void 0:r.cachedContent,contents:[...this._history,c]},u=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>U(this._apiKey,this.model,d,u)).then(e=>{var t;if(V(e.response)){this._history.push(c);let n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{let t=P(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var n,o,s,i,a,r;await this._sendPromise;let l=Y(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(s=this.params)||void 0===s?void 0:s.tools,toolConfig:null===(i=this.params)||void 0===i?void 0:i.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(r=this.params)||void 0===r?void 0:r.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),t),u=G(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(e=>{throw Error(J)}).then(e=>e.response).then(e=>{if(V(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=P(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==J&&console.error(e)}),u}}async function X(e,t,n,o){return(await S(t,g.COUNT_TOKENS,e,!1,JSON.stringify(n),o)).json()}async function z(e,t,n,o){return(await S(t,g.EMBED_CONTENT,e,!1,JSON.stringify(n),o)).json()}async function Q(e,t,n,o){let s=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await S(t,g.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),o)).json()}class Z{constructor(e,t,n={}){this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=$(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var n;let o=B(e),s=Object.assign(Object.assign({},this._requestOptions),t);return U(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),s)}async generateContentStream(e,t={}){var n;let o=B(e),s=Object.assign(Object.assign({},this._requestOptions),t);return G(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),s)}startChat(e){var t;return new W(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let n=function(e,t){var n;let o={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null===(n=null==t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]},s=null!=e.generateContentRequest;if(e.contents){if(s)throw new A("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=e.contents}else if(s)o=Object.assign(Object.assign({},o),e.generateContentRequest);else{let t=Y(e);o.contents=[t]}return{generateContentRequest:o}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),t);return X(this.apiKey,this.model,n,o)}async embedContent(e,t={}){let n="string"==typeof e||Array.isArray(e)?{content:Y(e)}:e,o=Object.assign(Object.assign({},this._requestOptions),t);return z(this.apiKey,this.model,n,o)}async batchEmbedContents(e,t={}){let n=Object.assign(Object.assign({},this._requestOptions),t);return Q(this.apiKey,this.model,e,n)}}class ee{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new O("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Z(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new A("Cached content must contain a `name` field.");if(!e.model)throw new A("Cached content must contain a `model` field.");for(let n of["model","systemInstruction"])if((null==t?void 0:t[n])&&e[n]&&(null==t?void 0:t[n])!==e[n]){if("model"===n&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new A(`Different value for "${n}" specified in modelParams (${t[n]}) and cachedContent (${e[n]})`)}let o=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Z(this.apiKey,o,n)}}let et=new ee("AIzaSyCc31Jd60YeAoVxKcusp5ALBxBr6LCTPic");async function en(e){try{let{journalText:t,azureAnalysis:n}=await e.json();if(!t||!n)return C.NextResponse.json({error:"Journal text and Azure analysis are required"},{status:400});let o=et.getGenerativeModel({model:"gemini-2.5-flash"}),s=`
You are Athena, the Greek goddess of wisdom, warfare, and crafts. A mortal has shared their journal entry with you, seeking guidance. 

MORTAL'S REFLECTION:
"${t}"

EMOTIONAL ANALYSIS (from Azure AI):
- Overall Sentiment: ${n.sentiment}
- Positive emotions: ${Math.round(100*n.confidenceScores.positive)}%
- Neutral emotions: ${Math.round(100*n.confidenceScores.neutral)}%
- Negative emotions: ${Math.round(100*n.confidenceScores.negative)}%

As Athena, provide specific, relevant advice based on their exact words and situation. Vary your response style and personality based on their emotional state and content.

RESPONSE STYLES (choose one that fits best):
1. WISE MENTOR: "Hearken, mortal soul..." - Gentle, philosophical guidance
2. WARRIOR GODDESS: "Listen well, brave one..." - Strong, empowering, action-oriented
3. CRAFTSPERSON: "I see your hands at work..." - Practical, skill-focused advice
4. ORACLE: "The threads of fate reveal..." - Mystical, prophetic insights
5. TEACHER: "Let me share with you..." - Educational, instructive tone
6. PROTECTOR: "Fear not, for I am with you..." - Comforting, protective guidance

Guidelines:
- Reference specific details from their journal entry
- Address their exact concerns or celebrate their specific achievements
- Vary your opening and closing based on the situation
- Use different metaphors and analogies (olive trees, weaving, battles, temples, etc.)
- Match your tone to their emotional state
- Provide actionable advice tailored to their situation
- Keep response between 80-150 words
- End with "May wisdom guide your path. - Athena" or similar

Focus on their specific situation and choose the most appropriate Athena personality for their needs.
`,i=await o.generateContent(s),a=(await i.response).text();return C.NextResponse.json({response:a})}catch(t){console.error("Gemini oracle failed:",t);let e=(e=>{let t=e.toLowerCase(),n=[];return t.includes("work")||t.includes("job")?n.push("Listen well, brave one, I see you wrestling with the forge of your career. Like Hephaestus crafting his finest works, true mastery comes not from avoiding challenges, but from embracing them. Your hands are meant for great things. May wisdom guide your path. - Athena","I see your hands at work, mortal, shaping your destiny through labor. The craftsman's path is never easy, but each challenge hones your blade sharper. Remember: even the greatest temples were built stone by stone. May wisdom guide your path. - Athena","The threads of fate reveal your professional journey, and I see both struggle and triumph ahead. Like the weaver who creates beauty from chaos, you too can transform challenges into opportunities. May wisdom guide your path. - Athena"):t.includes("relationship")||t.includes("love")?n.push("Fear not, for I am with you in matters of the heart. Love, like the olive tree, grows slowly but bears the sweetest fruit. Speak your truth with courage, listen with compassion. May wisdom guide your path. - Athena","Let me share with you the wisdom of the ages: relationships are like the intricate tapestries I weave - each thread matters, each color adds depth. Be patient with yourself and others. May wisdom guide your path. - Athena","Hearken, mortal soul, I feel the weight of your heart's desires. Like the warrior who protects what they love, guard your relationships with both strength and gentleness. May wisdom guide your path. - Athena"):t.includes("anxiety")||t.includes("worry")?n.push("Listen well, brave one, for I have faced many battles and know the weight of worry. Like the warrior who prepares for battle, your anxiety is not weakness but preparation. Channel this energy into action. May wisdom guide your path. - Athena","The threads of fate show me your troubled mind, but I also see your inner strength. Like the olive tree that bends in the storm but never breaks, you too will weather this tempest. May wisdom guide your path. - Athena","I see your hands trembling with worry, but know this: courage is not the absence of fear, but action in spite of it. Like the craftsman who works through uncertainty, focus on the task before you. May wisdom guide your path. - Athena"):n.push("Hearken, mortal soul, I sense the depth of your contemplation. Your words carry the weight of genuine reflection, and I am honored by your trust. In the quiet moments of self-examination, we often discover our greatest truths. May wisdom guide your path. - Athena","Listen well, seeker, for I hear the echoes of your thoughts. Like the weaver who creates beauty from simple threads, you too are crafting something meaningful from your experiences. May wisdom guide your path. - Athena","The threads of fate reveal a thoughtful soul before me. Like the olive tree that grows stronger with each season, your wisdom deepens with each reflection. May wisdom guide your path. - Athena"),n[Math.floor(Math.random()*n.length)]})(journalText);return C.NextResponse.json({response:e})}}let eo=new m.AppRouteRouteModule({definition:{kind:y.x.APP_ROUTE,page:"/api/ai/gemini/route",pathname:"/api/ai/gemini",filename:"route",bundlePath:"app/api/ai/gemini/route"},resolvedPagePath:"C:\\Users\\shiva\\Documents\\GitHub\\girlhacks-2025-main\\girlhacks-2025\\app\\api\\ai\\gemini\\route.js",nextConfigOutput:"",userland:p}),{requestAsyncStorage:es,staticGenerationAsyncStorage:ei,serverHooks:ea}=eo,er="/api/ai/gemini/route";function el(){return(0,E.patchFetch)({serverHooks:ea,staticGenerationAsyncStorage:ei})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[276,972],()=>n(3627));module.exports=o})();