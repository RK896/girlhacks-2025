(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[509],{1775:function(e,r,t){Promise.resolve().then(t.bind(t,4478))},4348:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return l},a:function(){return o}});var a=t(7437),i=t(2265),n=t(1614);let s=(0,i.createContext)();function o(){return(0,i.useContext)(s)}function l(e){let{children:r}=e,[t,o]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0),c=async(e,r,t)=>{try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r,name:t})}),i=await a.json();if(!a.ok)throw Error(i.error||"Registration failed");return(0,n.setCookie)("token",i.token,{maxAge:604800}),o(i.user),i}catch(e){throw e}},u=async(e,r)=>{try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})}),a=await t.json();if(!t.ok)throw Error(a.error||"Login failed");return(0,n.setCookie)("token",a.token,{maxAge:604800}),o(a.user),a}catch(e){throw e}},m=async()=>{throw Error("Google login not implemented yet")},h=async()=>{try{let e=(0,n.getCookie)("token");if(!e){d(!1);return}let r=await fetch("/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();o(e.user)}else(0,n.deleteCookie)("token"),o(null)}catch(e){console.error("Auth check failed:",e),(0,n.deleteCookie)("token"),o(null)}finally{d(!1)}};return(0,i.useEffect)(()=>{h()},[]),(0,a.jsx)(s.Provider,{value:{currentUser:t,signup:c,login:u,loginWithGoogle:m,logout:()=>{(0,n.deleteCookie)("token"),o(null)}},children:!l&&r})}},4478:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var a=t(7437),i=t(2265),n=t(9376),s=t(4348);function o(){let{currentUser:e}=(0,s.a)(),[r,t]=(0,i.useState)({enabled:!1,frequency:"daily",timeOfDay:"evening",specificTime:"20:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],timezone:"UTC"}),[n,o]=(0,i.useState)(!0),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)("");(0,i.useEffect)(()=>{e&&m()},[e]);let m=async()=>{try{console.log("Demo mode: Using default email preferences"),t({enabled:!1,frequency:"daily",timeOfDay:"evening",specificTime:"20:00",daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],timezone:"UTC"})}catch(e){console.error("Error setting default preferences:",e)}finally{o(!1)}},h=async()=>{d(!0),u("");try{console.log("Demo mode: Saving preferences:",r),await new Promise(e=>setTimeout(e,1e3)),u("Preferences saved successfully! (Demo Mode)"),setTimeout(()=>u(""),3e3)}catch(e){console.error("Error saving preferences:",e),u("Failed to save preferences. Please try again.")}finally{d(!1)}},f=e=>{t(r=>({...r,frequency:e,daysOfWeek:"weekly"===e||"biweekly"===e?r.daysOfWeek:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}))},x=e=>{t(r=>({...r,daysOfWeek:r.daysOfWeek.includes(e)?r.daysOfWeek.filter(r=>r!==e):[...r.daysOfWeek,e]}))};return n?(0,a.jsx)("div",{className:"temple-container p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-gold-main border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading preferences..."})]})}):(0,a.jsxs)("div",{className:"temple-container",children:[(0,a.jsx)("h2",{className:"section-header mb-8",children:"\uD83D\uDCE7 Email Reminder Preferences"}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Email Reminders"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Receive gentle reminders to maintain your journaling practice"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.enabled,onChange:e=>t(r=>({...r,enabled:e.target.checked})),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gold-main/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-main"})]})]})}),r.enabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Reminder Frequency"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"daily",label:"Daily",icon:"\uD83D\uDCC5"},{value:"weekly",label:"Weekly",icon:"\uD83D\uDCC6"},{value:"biweekly",label:"Bi-weekly",icon:"\uD83D\uDDD3️"},{value:"monthly",label:"Monthly",icon:"\uD83D\uDCCA"}].map(e=>(0,a.jsxs)("button",{onClick:()=>f(e.value),className:"p-3 rounded-lg border-2 transition-all ".concat(r.frequency===e.value?"border-gold-main bg-gold-main/10 text-gold-main":"border-gray-200 hover:border-gold-main/50"),children:[(0,a.jsx)("div",{className:"text-lg mb-1",children:e.icon}),(0,a.jsx)("div",{className:"font-medium",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Time of Day"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{value:"morning",label:"Morning",icon:"\uD83C\uDF05",time:"08:00"},{value:"afternoon",label:"Afternoon",icon:"☀️",time:"14:00"},{value:"evening",label:"Evening",icon:"\uD83C\uDF19",time:"20:00"}].map(e=>(0,a.jsxs)("button",{onClick:()=>t(r=>({...r,timeOfDay:e.value,specificTime:e.time})),className:"p-3 rounded-lg border-2 transition-all ".concat(r.timeOfDay===e.value?"border-gold-main bg-gold-main/10 text-gold-main":"border-gray-200 hover:border-gold-main/50"),children:[(0,a.jsx)("div",{className:"text-lg mb-1",children:e.icon}),(0,a.jsx)("div",{className:"font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.time})]},e.value))})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Custom Time"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("label",{className:"text-gray-600",children:"Send reminders at:"}),(0,a.jsx)("input",{type:"time",value:r.specificTime,onChange:e=>t(r=>({...r,specificTime:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold-main focus:border-gold-main"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(24-hour format)"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Tip: Choose a time when you're most likely to journal"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Timezone"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("label",{className:"text-gray-600",children:"Your timezone:"}),(0,a.jsxs)("select",{value:r.timezone,onChange:e=>t(r=>({...r,timezone:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold-main focus:border-gold-main",children:[(0,a.jsx)("option",{value:"UTC",children:"UTC (Coordinated Universal Time)"}),(0,a.jsx)("option",{value:"America/New_York",children:"Eastern Time (ET)"}),(0,a.jsx)("option",{value:"America/Chicago",children:"Central Time (CT)"}),(0,a.jsx)("option",{value:"America/Denver",children:"Mountain Time (MT)"}),(0,a.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),(0,a.jsx)("option",{value:"Europe/London",children:"London (GMT)"}),(0,a.jsx)("option",{value:"Europe/Paris",children:"Paris (CET)"}),(0,a.jsx)("option",{value:"Asia/Tokyo",children:"Tokyo (JST)"}),(0,a.jsx)("option",{value:"Asia/Shanghai",children:"Shanghai (CST)"}),(0,a.jsx)("option",{value:"Australia/Sydney",children:"Sydney (AEST)"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83C\uDF0D Reminders will be sent according to your local timezone"})]}),("weekly"===r.frequency||"biweekly"===r.frequency)&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gold-main/30",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Days of Week"}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-2",children:[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}].map(e=>(0,a.jsx)("button",{onClick:()=>x(e.key),className:"p-2 rounded-lg border-2 transition-all text-sm ".concat(r.daysOfWeek.includes(e.key)?"border-gold-main bg-gold-main/10 text-gold-main":"border-gray-200 hover:border-gold-main/50"),children:e.label.slice(0,3)},e.key))})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gold-main/10 to-athena-blue/10 rounded-lg p-6 border border-gold-main/30",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCB Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-gray-700",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Frequency:"})," ",r.frequency.charAt(0).toUpperCase()+r.frequency.slice(1)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Time:"})," ",r.specificTime," (",r.timeOfDay,")"]}),("weekly"===r.frequency||"biweekly"===r.frequency)&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Days:"})," ",r.daysOfWeek.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onClick:h,disabled:l,className:"altar-button px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Saving...":"Save Preferences"})}),c&&(0,a.jsx)("div",{className:"text-center p-4 rounded-lg ".concat(c.includes("success")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:c})]})]})}function l(){let{currentUser:e}=(0,s.a)(),r=(0,n.useRouter)(),[t,l]=(0,i.useState)({reminderCount:0,lastReminderSent:null,enabled:!1});(0,i.useEffect)(()=>{e?d():r.push("/landing")},[e,r]);let d=async()=>{try{var e;let r=null===(e=document.cookie.split("; ").find(e=>e.startsWith("token=")))||void 0===e?void 0:e.split("=")[1],t=await fetch("/api/reminders",{headers:{Authorization:"Bearer ".concat(r)}});if(t.ok){let e=await t.json();l(e)}}catch(e){console.error("Error fetching reminder stats:",e)}},c=async()=>{try{var e;let r=null===(e=document.cookie.split("; ").find(e=>e.startsWith("token=")))||void 0===e?void 0:e.split("=")[1],t=await fetch("/api/reminders",{method:"POST",headers:{Authorization:"Bearer ".concat(r)}});if(t.ok)alert("Test reminder sent successfully!"),d();else{let e=await t.json();alert("Failed to send reminder: ".concat(e.error))}}catch(e){console.error("Error sending test reminder:",e),alert("Failed to send test reminder")}};return e?(0,a.jsxs)("main",{className:"min-h-screen py-8 px-4 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gold-main/5 rounded-full blur-xl animate-float"}),(0,a.jsx)("div",{className:"absolute top-40 right-20 w-24 h-24 bg-athena-blue/10 rounded-full blur-lg animate-float",style:{animationDelay:"2s"}}),(0,a.jsx)("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 bg-marble-light/20 rounded-full blur-2xl animate-float",style:{animationDelay:"4s"}}),(0,a.jsx)("div",{className:"absolute bottom-40 right-1/3 w-28 h-28 bg-gold-main/8 rounded-full blur-xl animate-float",style:{animationDelay:"6s"}})]}),(0,a.jsx)("div",{className:"fixed top-4 left-4 z-50",children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg border border-gold-main/20",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"Athena's Journal"})]})})}),(0,a.jsx)("nav",{className:"absolute top-4 right-4 z-50",children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-6 py-3 shadow-lg border border-gold-main/20",children:(0,a.jsx)("div",{className:"flex items-center space-x-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:["Welcome, ",e.name]})]}),(0,a.jsx)("button",{onClick:()=>r.push("/"),className:"text-sm text-gray-600 hover:text-athena-blue transition-colors font-medium px-3 py-1 rounded-md hover:bg-gray-100",children:"Back to Journal"})]})})})}),(0,a.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8 fade-in",children:[(0,a.jsx)("h1",{className:"temple-header mb-6",children:"⚙️ Preferences"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl text-gray-700 max-w-2xl mx-auto leading-relaxed",children:"Customize your Athena's Journal experience and manage your email reminders."})]}),t.enabled&&(0,a.jsxs)("div",{className:"temple-container p-6 mb-8",children:[(0,a.jsx)("h3",{className:"section-header mb-6",children:"\uD83D\uDCCA Reminder Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-gold-main mb-2",children:t.reminderCount}),(0,a.jsx)("div",{className:"text-gray-600",children:"Total Reminders Sent"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-athena-blue mb-2",children:t.lastReminderSent?new Date(t.lastReminderSent).toLocaleDateString():"Never"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Last Reminder Sent"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:c,className:"altar-button px-6 py-2 text-sm",children:"Send Test Reminder"})})]})]}),(0,a.jsx)(o,{})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-marble-light via-white to-marble-dark flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFDB️"}),(0,a.jsx)("div",{className:"text-xl text-gray-600",children:"Redirecting to Athena's Temple..."})]})})}},469:function(e,r){"use strict";r.parse=function(e,r){if("string"!=typeof e)throw TypeError("argument str must be a string");var t={},i=e.length;if(i<2)return t;var n=r&&r.decode||c,s=0,o=0,u=0;do{if(-1===(o=e.indexOf("=",s)))break;if(-1===(u=e.indexOf(";",s)))u=i;else if(o>u){s=e.lastIndexOf(";",o-1)+1;continue}var m=l(e,s,o),h=d(e,o,m),f=e.slice(m,h);if(!a.call(t,f)){var x=l(e,o+1,u),g=d(e,u,x);34===e.charCodeAt(x)&&34===e.charCodeAt(g-1)&&(x++,g--);var y=e.slice(x,g);t[f]=function(e,r){try{return r(e)}catch(r){return e}}(y,n)}s=u+1}while(s<i);return t},r.serialize=function(e,r,a){var l=a&&a.encode||encodeURIComponent;if("function"!=typeof l)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var d=l(r);if(!n.test(d))throw TypeError("argument val is invalid");var c=e+"="+d;if(!a)return c;if(null!=a.maxAge){var u=Math.floor(a.maxAge);if(!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+u}if(a.domain){if(!s.test(a.domain))throw TypeError("option domain is invalid");c+="; Domain="+a.domain}if(a.path){if(!o.test(a.path))throw TypeError("option path is invalid");c+="; Path="+a.path}if(a.expires){var m=a.expires;if("[object Date]"!==t.call(m)||isNaN(m.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+m.toUTCString()}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.partitioned&&(c+="; Partitioned"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var t=Object.prototype.toString,a=Object.prototype.hasOwnProperty,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,n=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/;function l(e,r,t){do{var a=e.charCodeAt(r);if(32!==a&&9!==a)return r}while(++r<t);return t}function d(e,r,t){for(;r>t;){var a=e.charCodeAt(--r);if(32!==a&&9!==a)return r+1}return t}function c(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},1614:function(e,r,t){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>r.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>r.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]]);return t};Object.defineProperty(r,"__esModule",{value:!0}),r.hasCookie=r.deleteCookie=r.setCookie=r.getCookie=r.getCookies=void 0;var n=t(469),s=function(){return"undefined"!=typeof window},o=function(e){return!!e&&"getAll"in e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},l=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&o(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&o(null==e?void 0:e.res.cookies)||!!(null==e?void 0:e.cookies)&&o(e.cookies())},d=function(e){var r={};return e.getAll().forEach(function(e){var t=e.name,a=e.value;r[t]=a}),r},c=function(e){try{if("string"==typeof e)return e;return JSON.stringify(e)}catch(r){return e}};r.getCookies=function(e){if(l(e)){if(null==e?void 0:e.req)return d(e.req.cookies);if(null==e?void 0:e.cookies)return d(e.cookies())}if(e&&(r=e.req),!s())return r&&r.cookies?r.cookies:r&&r.headers.cookie?(0,n.parse)(r.headers.cookie):{};for(var r,t={},a=document.cookie?document.cookie.split("; "):[],i=0,o=a.length;i<o;i++){var c=a[i].split("="),u=c.slice(1).join("=");t[c[0]]=u}return t},r.getCookie=function(e,t){var a=(0,r.getCookies)(t)[e];if(void 0!==a)return a?a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):a},r.setCookie=function(e,r,t){if(l(t)){var o,d,u,m=t.req,h=t.res,f=t.cookies,x=i(t,["req","res","cookies"]),g=a({name:e,value:c(r)},x);m&&m.cookies.set(g),h&&h.cookies.set(g),f&&f().set(g);return}if(t){var m=t.req,h=t.res,y=i(t,["req","res"]);d=m,u=h,o=y}var p=(0,n.serialize)(e,c(r),a({path:"/"},o));if(s())document.cookie=p;else if(u&&d){var b=u.getHeader("Set-Cookie");if(Array.isArray(b)||(b=b?[String(b)]:[]),u.setHeader("Set-Cookie",b.concat(p)),d&&d.cookies){var v=d.cookies;""===r?delete v[e]:v[e]=c(r)}if(d&&d.headers&&d.headers.cookie){var v=(0,n.parse)(d.headers.cookie);""===r?delete v[e]:v[e]=c(r),d.headers.cookie=Object.entries(v).reduce(function(e,r){return e.concat("".concat(r[0],"=").concat(r[1],";"))},"")}}},r.deleteCookie=function(e,t){return(0,r.setCookie)(e,"",a(a({},t),{maxAge:-1}))},r.hasCookie=function(e,t){return!!e&&(0,r.getCookies)(t).hasOwnProperty(e)}},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1775)}),_N_E=e.O()}]);