(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4482:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=parse,t.serialize=serialize;var s=Object.prototype.toString,a=Object.prototype.hasOwnProperty,r=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,n=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function parse(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var s={},r=e.length;if(r<2)return s;var n=t&&t.decode||decode,i=0,l=0,o=0;do{if(-1===(l=e.indexOf("=",i)))break;if(-1===(o=e.indexOf(";",i)))o=r;else if(l>o){i=e.lastIndexOf(";",l-1)+1;continue}var d=startIndex(e,i,l),c=endIndex(e,l,d),m=e.slice(d,c);if(!a.call(s,m)){var u=startIndex(e,l+1,o),h=endIndex(e,o,u);34===e.charCodeAt(u)&&34===e.charCodeAt(h-1)&&(u++,h--);var x=e.slice(u,h);s[m]=tryDecode(x,n)}i=o+1}while(i<r);return s}function startIndex(e,t,s){do{var a=e.charCodeAt(t);if(32!==a&&9!==a)return t}while(++t<s);return s}function endIndex(e,t,s){for(;t>s;){var a=e.charCodeAt(--t);if(32!==a&&9!==a)return t+1}return s}function serialize(e,t,s){var a=s&&s.encode||encodeURIComponent;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!r.test(e))throw TypeError("argument name is invalid");var o=a(t);if(!n.test(o))throw TypeError("argument val is invalid");var d=e+"="+o;if(!s)return d;if(null!=s.maxAge){var c=Math.floor(s.maxAge);if(!isFinite(c))throw TypeError("option maxAge is invalid");d+="; Max-Age="+c}if(s.domain){if(!i.test(s.domain))throw TypeError("option domain is invalid");d+="; Domain="+s.domain}if(s.path){if(!l.test(s.path))throw TypeError("option path is invalid");d+="; Path="+s.path}if(s.expires){var m=s.expires;if(!isDate(m)||isNaN(m.valueOf()))throw TypeError("option expires is invalid");d+="; Expires="+m.toUTCString()}if(s.httpOnly&&(d+="; HttpOnly"),s.secure&&(d+="; Secure"),s.partitioned&&(d+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return d}function decode(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function isDate(e){return"[object Date]"===s.call(e)}function tryDecode(e,t){try{return t(e)}catch(t){return e}}},7713:function(e,t,s){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(s[a[r]]=e[a[r]]);return s};Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookie=t.deleteCookie=t.setCookie=t.getCookie=t.getCookies=void 0;var n=s(4482),isClientSide=function(){return"undefined"!=typeof window},isCookiesFromAppRouter=function(e){return!!e&&"getAll"in e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},isContextFromAppRouter=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&isCookiesFromAppRouter(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&isCookiesFromAppRouter(null==e?void 0:e.res.cookies)||!!(null==e?void 0:e.cookies)&&isCookiesFromAppRouter(e.cookies())},transformAppRouterCookies=function(e){var t={};return e.getAll().forEach(function(e){var s=e.name,a=e.value;t[s]=a}),t},stringify=function(e){try{if("string"==typeof e)return e;return JSON.stringify(e)}catch(t){return e}};t.getCookies=function(e){if(isContextFromAppRouter(e)){if(null==e?void 0:e.req)return transformAppRouterCookies(e.req.cookies);if(null==e?void 0:e.cookies)return transformAppRouterCookies(e.cookies())}if(e&&(t=e.req),!isClientSide())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,n.parse)(t.headers.cookie):{};for(var t,s={},a=document.cookie?document.cookie.split("; "):[],r=0,i=a.length;r<i;r++){var l=a[r].split("="),o=l.slice(1).join("=");s[l[0]]=o}return s},t.getCookie=function(e,s){var a=(0,t.getCookies)(s)[e];if(void 0!==a)return a?a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):a},t.setCookie=function(e,t,s){if(isContextFromAppRouter(s)){var i,l,o,d=s.req,c=s.res,m=s.cookies,u=r(s,["req","res","cookies"]),h=a({name:e,value:stringify(t)},u);d&&d.cookies.set(h),c&&c.cookies.set(h),m&&m().set(h);return}if(s){var d=s.req,c=s.res,x=r(s,["req","res"]);l=d,o=c,i=x}var g=(0,n.serialize)(e,stringify(t),a({path:"/"},i));if(isClientSide())document.cookie=g;else if(o&&l){var p=o.getHeader("Set-Cookie");if(Array.isArray(p)||(p=p?[String(p)]:[]),o.setHeader("Set-Cookie",p.concat(g)),l&&l.cookies){var f=l.cookies;""===t?delete f[e]:f[e]=stringify(t)}if(l&&l.headers&&l.headers.cookie){var f=(0,n.parse)(l.headers.cookie);""===t?delete f[e]:f[e]=stringify(t),l.headers.cookie=Object.entries(f).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.deleteCookie=function(e,s){return(0,t.setCookie)(e,"",a(a({},s),{maxAge:-1}))},t.hasCookie=function(e,s){return!!e&&(0,t.getCookies)(s).hasOwnProperty(e)}},7627:function(e,t,s){Promise.resolve().then(s.bind(s,8818))},5748:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var a=s(7437),r=s(2265),n=s(7713);let i=(0,r.createContext)();function useAuth(){return(0,r.useContext)(i)}function AuthProvider(e){let{children:t}=e,[s,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),signup=async(e,t,s)=>{try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})}),r=await a.json();if(!a.ok)throw Error(r.error||"Registration failed");return(0,n.setCookie)("token",r.token,{maxAge:604800}),l(r.user),r}catch(e){throw e}},login=async(e,t)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();if(!s.ok)throw Error(a.error||"Login failed");return(0,n.setCookie)("token",a.token,{maxAge:604800}),l(a.user),a}catch(e){throw e}},loginWithGoogle=async()=>{throw Error("Google login not implemented yet")},checkAuth=async()=>{try{let e=(0,n.getCookie)("token");if(!e){d(!1);return}let t=await fetch("/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();l(e.user)}else(0,n.deleteCookie)("token"),l(null)}catch(e){console.error("Auth check failed:",e),(0,n.deleteCookie)("token"),l(null)}finally{d(!1)}};return(0,r.useEffect)(()=>{checkAuth()},[]),(0,a.jsx)(i.Provider,{value:{currentUser:s,signup,login,loginWithGoogle,logout:()=>{(0,n.deleteCookie)("token"),l(null)}},children:!o&&t})}},8818:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Home}});var a=s(7437),r=s(2265),n=s(1396),i=s.n(n),l=s(5748);function AuthModal(e){let{isOpen:t,onClose:s,mode:n="login"}=e,[i,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[f,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)("login"===n),{login:j,signup:w,loginWithGoogle:N}=(0,l.useAuth)(),handleSubmit=async e=>{if(e.preventDefault(),p(""),!y&&d!==h)return p("Passwords do not match");if(d.length<6)return p("Password must be at least 6 characters");if(!y&&!m.trim())return p("Name is required");b(!0);try{y?await j(i,d):await w(i,d,m),s()}catch(e){p(e.message)}b(!1)},handleGoogleLogin=async()=>{b(!0);try{await N(),s()}catch(e){p(e.message)}b(!1)};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"temple-container max-w-md w-full p-8 relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFDB️"}),(0,a.jsx)("h2",{className:"text-2xl font-cinzel font-bold text-athena-blue mb-2",children:y?"Welcome Back, Mortal":"Join the Sacred Order"}),(0,a.jsx)("p",{className:"text-gray-600",children:y?"Enter the temple to continue your journey":"Begin your divine journaling experience"})]}),g&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-4 rounded-xl mb-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"⚠️"}),(0,a.jsx)("p",{className:"font-medium",children:g})]})}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[!y&&(0,a.jsxs)("div",{className:"group",children:[(0,a.jsx)("label",{htmlFor:"name",className:"form-label",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDC64"}),(0,a.jsx)("span",{children:"Full Name"})]})}),(0,a.jsx)("input",{type:"text",id:"name",value:m,onChange:e=>u(e.target.value),required:!0,className:"form-input",placeholder:"Your full name"})]}),(0,a.jsxs)("div",{className:"group",children:[(0,a.jsx)("label",{htmlFor:"email",className:"form-label",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCE7"}),(0,a.jsx)("span",{children:"Email Address"})]})}),(0,a.jsx)("input",{type:"email",id:"email",value:i,onChange:e=>o(e.target.value),required:!0,className:"form-input",placeholder:"your@email.com"})]}),(0,a.jsxs)("div",{className:"group",children:[(0,a.jsx)("label",{htmlFor:"password",className:"form-label",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDD12"}),(0,a.jsx)("span",{children:"Password"})]})}),(0,a.jsx)("input",{type:"password",id:"password",value:d,onChange:e=>c(e.target.value),required:!0,className:"form-input",placeholder:"Enter your password"})]}),!y&&(0,a.jsxs)("div",{className:"group",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDD10"}),(0,a.jsx)("span",{children:"Confirm Password"})]})}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",value:h,onChange:e=>x(e.target.value),required:!0,className:"form-input",placeholder:"Confirm your password"})]}),(0,a.jsx)("button",{type:"submit",disabled:f,className:"w-full altar-button disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-athena-blue"}),(0,a.jsx)("span",{children:y?"Signing In...":"Creating Account..."})]}):y?"Enter the Temple":"Join the Sacred Order"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,a.jsxs)("button",{onClick:handleGoogleLogin,disabled:f,className:"mt-4 w-full flex items-center justify-center px-4 py-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed group shadow-sm hover:shadow-md",children:[(0,a.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,a.jsx)("span",{className:"font-medium",children:"Continue with Google"})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>v(!y),className:"text-athena-blue hover:text-gold-main transition-colors font-medium",children:y?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})}):null}function CalendarStreak(e){let{entries:t}=e,[s,n]=(0,r.useState)(0),[i,l]=(0,r.useState)({});return(0,r.useEffect)(()=>{if(!t||0===t.length)return;let e=new Date,s=t.map(e=>{let t=new Date(e.createdAt);return t.toDateString()}),a=0,r=e.toDateString();if(s.includes(r)){a=1;let t=new Date(e);for(t.setDate(t.getDate()-1);s.includes(t.toDateString());)a++,t.setDate(t.getDate()-1)}else{let t=new Date(e);if(t.setDate(t.getDate()-1),s.includes(t.toDateString())){a=1;let e=new Date(t);for(e.setDate(e.getDate()-1);s.includes(e.toDateString());)a++,e.setDate(e.getDate()-1)}}n(a);let i={};for(let t=29;t>=0;t--){let a=new Date(e);a.setDate(a.getDate()-t);let r=a.toDateString();i[r]=s.includes(r)}l(i)},[t]),(0,a.jsxs)("div",{className:"temple-container p-6 mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-cinzel font-bold text-athena-blue mb-4 text-center",children:"Your Wisdom Journey"}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:0===s?"\uD83C\uDF31":s<7?"\uD83D\uDCDC":s<30?"\uD83C\uDFDB️":s<100?"⚡":"\uD83D\uDC51"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gold-main mb-2",children:s}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Day Streak"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 italic",children:0===s?"Begin your journey of wisdom":1===s?"A single step on the path":s<7?"Building your foundation":s<30?"A dedicated seeker":s<100?"A true disciple of wisdom":"A master of reflection"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["S","M","T","W","T","F","S"].map(e=>(0,a.jsx)("div",{className:"text-center text-xs text-gray-500 font-medium py-1",children:e},e)),Object.entries(i).map(e=>{let[t,s]=e,r=new Date(t),n=r.toDateString()===new Date().toDateString();return(0,a.jsx)("div",{className:"\n                aspect-square flex items-center justify-center text-xs rounded\n                ".concat(s?"bg-gold-main text-white font-bold":n?"bg-athena-blue/20 text-athena-blue border border-athena-blue/30":"bg-gray-100 text-gray-400","\n                ").concat(n?"ring-2 ring-athena-blue/50":"","\n              "),children:r.getDate()},t)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"bg-white/60 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-athena-blue",children:t.length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Total Entries"})]}),(0,a.jsxs)("div",{className:"bg-white/60 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-gold-main",children:[Math.round(Object.values(i).filter(Boolean).length/30*100),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"30-Day Activity"})]})]})]})}function SentimentGraph(e){var t,s;let{entries:n}=e,[i,l]=(0,r.useState)([]),[o,d]=(0,r.useState)("7d");return(0,r.useEffect)(()=>{if(!n||0===n.length)return;let e=new Date,t=7;switch(o){case"7d":default:t=7;break;case"30d":t=30;break;case"90d":t=90}let s=n.filter(s=>{let a=new Date(s.createdAt);return Math.floor((e-a)/864e5)<t}).sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)),a=s.map((e,t)=>{var s,a,r,n;let i=new Date(e.createdAt),l=0;return l=(null===(s=e.azureAnalysis)||void 0===s?void 0:s.sentiment)==="positive"?1:(null===(a=e.azureAnalysis)||void 0===a?void 0:a.sentiment)==="negative"?-1:0,{id:e.id||t,date:i.toISOString().split("T")[0],sentiment:l,sentimentLabel:(null===(r=e.azureAnalysis)||void 0===r?void 0:r.sentiment)||"neutral",confidence:(null===(n=e.azureAnalysis)||void 0===n?void 0:n.confidenceScores)||{},createdAt:e.createdAt,dayName:i.toLocaleDateString("en",{weekday:"short"}),time:i.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"})}});l(a)},[n,o]),i.map(e=>Math.abs(e.sentiment)),(0,a.jsxs)("div",{className:"temple-container p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-cinzel font-bold text-athena-blue",children:"Emotional Journey"}),(0,a.jsx)("div",{className:"flex space-x-2",children:["7d","30d","90d"].map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1 text-xs rounded-lg transition-colors ".concat(o===e?"bg-athena-blue text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:e},e))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"h-40 relative",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-0 right-0 border-t border-gray-300"}),(0,a.jsx)("div",{className:"absolute left-0 top-0 text-xs text-green-600 font-medium",children:"+"}),(0,a.jsx)("div",{className:"absolute left-0 bottom-0 text-xs text-red-600 font-medium",children:"-"}),(0,a.jsx)("div",{className:"relative h-full",children:i.map((e,t)=>{let s=e.sentiment>0,r=e.sentiment<0;e.sentiment;let n=t/Math.max(i.length-1,1)*100;return(0,a.jsxs)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 group cursor-pointer",style:{left:"".concat(n,"%"),top:"".concat(100*(s?.2:r?.8:.5),"%")},children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-lg transition-all duration-200 group-hover:scale-125 ".concat(s?"bg-green-500":r?"bg-red-500":"bg-gray-400"),title:"".concat(e.sentimentLabel," - ").concat(e.time)}),(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:[(0,a.jsxs)("div",{className:"bg-gray-800 text-white text-xs rounded-lg px-2 py-1 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"font-medium capitalize",children:e.sentimentLabel}),(0,a.jsx)("div",{className:"text-gray-300",children:e.time})]}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-gray-800"})]})]},e.id)})})]}),(0,a.jsx)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:i.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:i[0].dayName}),i.length>1&&(0,a.jsx)("span",{children:i[Math.floor(i.length/2)].dayName}),i.length>2&&(0,a.jsx)("span",{children:i[i.length-1].dayName})]})})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-6 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Positive"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Neutral"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Negative"})]})]}),i.length>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-white/60 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Recent Entries"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"font-semibold ".concat((t=i[i.length-1].sentiment)>.3?"text-green-600":t<-.3?"text-red-600":"text-gray-600"),children:(s=i[i.length-1].sentiment)>.3?"Positive":s<-.3?"Negative":"Neutral"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[i.length," entries in ",o]})]}),(0,a.jsxs)("div",{className:"mt-2 flex justify-center space-x-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{children:[i.filter(e=>e.sentiment>0).length," positive"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,a.jsxs)("span",{children:[i.filter(e=>0===e.sentiment).length," neutral"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,a.jsxs)("span",{children:[i.filter(e=>e.sentiment<0).length," negative"]})]})]})]})]})}let extractTopics=e=>{let t=e.toLowerCase(),s=[];return Object.entries({"Work & Career":["work","job","career","office","meeting","project","boss","colleague","interview","promotion","salary","workplace","deadline","stress","burnout","working","worked","works","careers","jobs","office","meetings","projects","bosses","colleagues","interviews","promotions","salaries","workplaces","deadlines","stressed","stressing","burned out","burning out"],Relationships:["relationship","love","partner","boyfriend","girlfriend","spouse","marriage","dating","family","friend","social","lonely","breakup","divorce","loved","loving","loves","partners","boyfriends","girlfriends","spouses","marriages","dating","families","friends","socially","loneliness","breakups","divorces","mom","dad","mother","father","sister","brother","parent","parents","sibling","siblings"],"Health & Wellness":["health","sick","illness","doctor","medicine","exercise","fitness","gym","diet","sleep","tired","energy","mental health","therapy","anxiety","depression","healthy","sickness","illnesses","doctors","medicines","exercising","exercised","exercises","fitness","gyms","diets","sleeping","slept","sleeps","tiring","tires","energetic","therapies","anxious","depressed","worried","worry","worries","worried","stressed","stress","stresses","pain","pains","painful","hurt","hurts","hurting","hurt"],"Personal Growth":["goal","dream","future","plan","ambition","success","failure","learn","study","skill","hobby","passion","purpose","meaning","self-improvement","goals","dreams","dreaming","dreamed","futures","planning","planned","plans","ambitions","successes","successful","failures","failed","failing","fails","learning","learned","learns","studying","studied","studies","skills","hobbies","passions","passionate","purposes","meanings","meaningful","improvement","improving","improved","improves","grow","growing","grew","grows","growth","develop","developing","developed","develops","development"],Finance:["money","financial","budget","debt","saving","investment","expensive","cheap","broke","rich","poor","bills","rent","mortgage","finances","financially","budgets","budgeting","budgeted","debts","savings","saved","saves","investments","investing","invested","invests","expensiveness","cheapness","bills","renting","rented","rents","mortgages","mortgaging","mortgaged","dollar","dollars","cost","costs","costing","costed","price","prices","pricing","priced","pay","paying","paid","pays","payment","payments","buy","buying","bought","buys","purchase","purchases","purchasing","purchased"],"Travel & Adventure":["travel","trip","vacation","holiday","adventure","explore","visit","journey","flight","hotel","destination","wanderlust","traveling","traveled","travels","trips","tripping","tripped","vacations","vacationing","vacationed","holidays","holidaying","holidayed","adventures","adventuring","adventured","exploring","explored","explores","visiting","visited","visits","journeys","journeying","journeyed","flights","flying","flew","flies","hotels","destinations","wanderlusting","wanderlusted","wanderlusts","explore","exploring","explored","explores"],"Creativity & Arts":["art","music","write","paint","draw","creative","design","poetry","story","book","movie","show","performance","craft","arts","artistic","musical","musically","writing","written","writes","painting","painted","paints","drawing","drawn","draws","creativity","creatively","designs","designing","designed","poems","poetic","poetically","stories","storytelling","books","bookish","movies","cinematic","shows","showing","showed","performances","performing","performed","performs","crafts","crafting","crafted","crafts","creative","creatively","imagination","imaginative","imaginatively"],"Spirituality & Philosophy":["spiritual","religion","faith","prayer","meditation","mindfulness","philosophy","meaning","purpose","belief","god","universe","karma","spiritually","religions","religious","religiously","faiths","faithful","faithfully","prayers","praying","prayed","prays","meditations","meditating","meditated","meditates","mindful","mindfully","philosophies","philosophical","philosophically","meanings","meaningful","meaningfully","purposes","purposeless","purposelessly","beliefs","believing","believed","believes","gods","godly","godliness","universes","universal","universally","karmas","karmic","karmically","soul","souls","soulful","soulfully","spirit","spirits","spiritual","spiritually"],Technology:["computer","phone","internet","social media","app","software","tech","digital","online","gaming","coding","programming","computers","computing","computed","phones","phoning","phoned","internets","interneting","interneted","apps","apping","apped","softwares","softwaring","softwared","techs","teching","teched","digitals","digitalizing","digitalized","onlines","onlining","onlined","gamings","gaming","gamed","games","codings","coding","coded","codes","programmings","programming","programmed","programs","code","codes","coding","coded","program","programs","programming","programmed","device","devices","screen","screens","keyboard","keyboards","mouse","mice","laptop","laptops","desktop","desktops","tablet","tablets","smartphone","smartphones"],"Nature & Environment":["nature","outdoor","garden","park","beach","mountain","forest","weather","environment","climate","green","sustainable","natures","natural","naturally","outdoors","outdooring","outdoored","gardens","gardening","gardened","parks","parking","parked","beaches","beaching","beached","mountains","mountainous","mountainously","forests","forested","foresting","weathers","weathering","weathered","environments","environmental","environmentally","climates","climatic","climatically","greens","greening","greened","sustainables","sustaining","sustained","sustains","sustainability","sustainably","tree","trees","treed","treeing","flower","flowers","flowering","flowered","grass","grasses","grassing","grassed","sky","skies","skying","skied","sun","suns","sunning","sunned","moon","moons","mooning","mooned","star","stars","starring","starred","cloud","clouds","clouding","clouded","rain","rains","raining","rained","snow","snows","snowing","snowed","wind","winds","winding","winded"]}).forEach(e=>{let[a,r]=e,n=r.reduce((e,s)=>{let a=RegExp("\\b".concat(s,"\\b"),"g"),r=t.match(a),n=r?r.length:0;return e+n},0);n>0&&s.push({topic:a,count:n})}),0===s.length&&Object.entries({"Personal Growth":["today","yesterday","tomorrow","feeling","feel","felt","think","thinking","thought","thoughts","hope","hoping","hoped","wish","wishing","wished","want","wanting","wanted","need","needing","needed","try","trying","tried","tries","change","changing","changed","changes","better","best","good","great","amazing","wonderful","happy","happiness","sad","sadness","angry","anger","frustrated","frustration","excited","excitement","nervous","nervousness","calm","calmness","peaceful","peace","confused","confusion","clear","clarity","understand","understanding","understood","learn","learning","learned","know","knowing","knew","known","remember","remembering","remembered","forget","forgetting","forgot","forgotten"],"Daily Life":["morning","afternoon","evening","night","day","days","week","weeks","month","months","year","years","time","times","moment","moments","hour","hours","minute","minutes","second","seconds","home","house","room","rooms","bed","beds","food","foods","eat","eating","ate","eaten","drink","drinking","drank","drunk","cook","cooking","cooked","shower","showering","showered","dress","dressing","dressed","clothes","clothing","shoes","shoe","car","cars","drive","driving","drove","driven","walk","walking","walked","run","running","ran","sit","sitting","sat","stand","standing","stood","lie","lying","lay","lain"],"Emotions & Feelings":["happy","happiness","sad","sadness","angry","anger","frustrated","frustration","excited","excitement","nervous","nervousness","calm","calmness","peaceful","peace","confused","confusion","clear","clarity","worried","worry","worries","anxious","anxiety","stressed","stress","stresses","relaxed","relaxation","tired","tiredness","energetic","energy","motivated","motivation","inspired","inspiration","hopeful","hope","hopes","hopeless","hopelessness","confident","confidence","insecure","insecurity","proud","pride","ashamed","shame","guilty","guilt","grateful","gratitude","thankful","thanks","blessed","blessing","lucky","luck","unlucky","unluckiness"]}).forEach(e=>{let[a,r]=e,n=r.reduce((e,s)=>{let a=RegExp("\\b".concat(s,"\\b"),"g"),r=t.match(a),n=r?r.length:0;return e+n},0);n>0&&s.push({topic:a,count:n})}),s.sort((e,t)=>t.count-e.count)};var components_TopicAnalysis=e=>{let{entries:t}=e,s=(0,r.useMemo)(()=>{if(!t||0===t.length)return[];let e=t.map(e=>e.journalText).join(" "),s=extractTopics(e);return s.slice(0,8)},[t]);if(!t||0===t.length)return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCCA"}),"Topic Analysis"]}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDD"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-cinzel mb-2",children:"No Topics to Analyze"}),(0,a.jsx)("p",{className:"text-base",children:"Start journaling to see your most common topics."})]})]});if(0===s.length)return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCCA"}),"Topic Analysis"]}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-cinzel mb-2",children:"Topics Emerging"}),(0,a.jsx)("p",{className:"text-base",children:"Keep journaling to discover your recurring themes."})]})]});let n=Math.max(...s.map(e=>e.count));return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83E\uDEE7"}),"Your Floating Topics"]}),(0,a.jsxs)("div",{className:"relative w-full h-80 sm:h-96 mb-6 overflow-hidden rounded-xl bg-gradient-to-br from-blue-50/30 to-purple-50/30 border border-gold-main/20",style:{minHeight:"400px"},children:[s.map((e,t)=>{let r=60+e.count/n*40,i=s.length,l=t/i*2*Math.PI-Math.PI/2,o=25+t%3*8,d=["from-gold-main to-yellow-400","from-athena-blue to-blue-400","from-green-500 to-emerald-400","from-purple-500 to-pink-400","from-red-500 to-orange-400","from-indigo-500 to-blue-400","from-teal-500 to-cyan-400","from-rose-500 to-pink-400"],c=d[t%d.length];return(0,a.jsxs)("div",{className:"absolute rounded-full bg-gradient-to-br ".concat(c," shadow-lg hover:shadow-xl transition-all duration-500 ease-out cursor-pointer group flex items-center justify-center text-white font-medium text-center fade-in bubble-float ").concat(0===t?"bubble-glow":""),style:{width:"".concat(r,"px"),height:"".concat(r,"px"),left:"".concat(50+o*Math.cos(l)+(Math.random()-.5)*10,"%"),top:"".concat(50+o*Math.sin(l)+(Math.random()-.5)*10,"%"),transform:"translate(-50%, -50%)",animationDelay:"".concat(.3*t,"s"),fontSize:"".concat(Math.max(10,Math.min(14,r/8)),"px")},onMouseEnter:e=>{e.currentTarget.style.transform="translate(-50%, -50%) scale(1.1)",e.currentTarget.style.zIndex="10"},onMouseLeave:e=>{e.currentTarget.style.transform="translate(-50%, -50%) scale(1)",e.currentTarget.style.zIndex="1"},children:[(0,a.jsxs)("div",{className:"px-2 py-1 text-center",children:[(0,a.jsx)("div",{className:"font-semibold leading-tight",children:e.topic.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),(0,a.jsx)("div",{className:"text-xs opacity-90 mt-1",children:e.count})]}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full bg-white/20 animate-pulse",style:{animationDelay:"".concat(.5*t,"s"),animationDuration:"3s"}})]},e.topic)}),(0,a.jsx)("div",{className:"absolute top-4 left-4 w-6 h-6 bg-gold-main/15 rounded-full animate-float"}),(0,a.jsx)("div",{className:"absolute top-8 right-6 w-4 h-4 bg-athena-blue/15 rounded-full animate-float",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute bottom-6 left-8 w-3 h-3 bg-green-400/15 rounded-full animate-float",style:{animationDelay:"2s"}}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 w-4 h-4 bg-purple-400/15 rounded-full animate-float",style:{animationDelay:"1.5s"}})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-6",children:s.slice(0,6).map((e,t)=>{let s=["bg-gradient-to-r from-gold-main to-yellow-400","bg-gradient-to-r from-athena-blue to-blue-400","bg-gradient-to-r from-green-500 to-emerald-400","bg-gradient-to-r from-purple-500 to-pink-400","bg-gradient-to-r from-red-500 to-orange-400","bg-gradient-to-r from-indigo-500 to-blue-400"];return(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-lg bg-white/60 backdrop-blur-sm",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(s[t%s.length])}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 truncate",children:e.topic}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.count," mentions"]})]})]},e.topic)})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-r from-athena-blue/5 to-blue-50/50 rounded-lg border border-athena-blue/20",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[(0,a.jsx)("span",{className:"font-semibold text-athena-blue",children:"Insight:"})," Your journal topics float freely in your mind, each bubble representing a theme from your thoughts.",s.length>0&&" The largest bubble represents ".concat(s[0].topic.toLowerCase(),", your most discussed topic.")]})})]})},components_MoodTimeline=e=>{let{entries:t}=e,s=(0,r.useMemo)(()=>t&&0!==t.length?t.map(e=>{var t,s;return{id:e.id,date:new Date(e.createdAt),sentiment:(null===(t=e.azureAnalysis)||void 0===t?void 0:t.sentiment)||"neutral",confidence:(null===(s=e.azureAnalysis)||void 0===s?void 0:s.confidenceScores)||{},text:e.journalText,dayName:new Date(e.createdAt).toLocaleDateString("en",{weekday:"short"}),monthDay:new Date(e.createdAt).toLocaleDateString("en",{month:"short",day:"numeric"})}}).sort((e,t)=>e.date-t.date):[],[t]),getSentimentColor=e=>{switch(e){case"positive":return"text-green-600 bg-green-100 border-green-300";case"negative":return"text-red-600 bg-red-100 border-red-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},getSentimentEmoji=e=>{switch(e){case"positive":return"\uD83D\uDE0A";case"negative":return"\uD83D\uDE14";default:return"\uD83D\uDE10"}},getSentimentLabel=e=>{switch(e){case"positive":return"Positive";case"negative":return"Negative";default:return"Neutral"}};return t&&0!==t.length?(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCC8"}),"Your Emotional Journey"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-gold-main/30 via-athena-blue/30 to-gold-main/30"}),(0,a.jsx)("div",{className:"space-y-6",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"relative flex items-start space-x-4 fade-in",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,a.jsx)("div",{className:"relative z-10 w-4 h-4 rounded-full border-2 ".concat(getSentimentColor(e.sentiment).split(" ")[2]," ").concat(getSentimentColor(e.sentiment).split(" ")[1]),children:(0,a.jsx)("div",{className:"absolute -top-1 -left-1 w-6 h-6 rounded-full bg-white flex items-center justify-center text-xs",children:getSentimentEmoji(e.sentiment)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.monthDay}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.dayName}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(getSentimentColor(e.sentiment)),children:getSentimentLabel(e.sentiment)})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.date.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-3 border border-gray-200/50",children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.text.length>100?"".concat(e.text.substring(0,100),"..."):e.text}),e.confidence&&(0,a.jsxs)("div",{className:"mt-2 flex space-x-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[Math.round(100*(e.confidence.positive||0)),"% positive"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[Math.round(100*(e.confidence.neutral||0)),"% neutral"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[Math.round(100*(e.confidence.negative||0)),"% negative"]})]})]})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>"positive"===e.sentiment).length}),(0,a.jsx)("div",{className:"text-sm text-green-700",children:"Positive Days"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:s.filter(e=>"neutral"===e.sentiment).length}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:"Neutral Days"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:s.filter(e=>"negative"===e.sentiment).length}),(0,a.jsx)("div",{className:"text-sm text-red-700",children:"Challenging Days"})]})]})]}):(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCC8"}),"Mood Timeline"]}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-cinzel mb-2",children:"No Mood Data Yet"}),(0,a.jsx)("p",{className:"text-base",children:"Start journaling to see your emotional journey over time."})]})]})},components_WordCloud=e=>{let{entries:t}=e,s=(0,r.useMemo)(()=>{if(!t||0===t.length)return[];let e=t.map(e=>e.journalText).join(" ").toLowerCase(),s=new Set(["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","must","can","this","that","these","those","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","her","its","our","their","am","are","is","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","must","can","not","no","yes","so","very","just","now","then","here","there","where","when","why","how","what","who","which","all","any","some","many","much","more","most","other","another","each","every","both","either","neither","one","two","three","first","second","last","next","previous","same","different","new","old","good","bad","big","small","long","short","high","low","great","little","much","more","most","less","least","better","best","worse","worst","right","wrong","true","false","real","fake","easy","hard","simple","complex","important","unimportant","interesting","boring","fun","funny","serious","sad","happy","angry","excited","nervous","calm","tired","energetic","confused","clear","sure","unsure","ready","not","really","actually","probably","maybe","definitely","absolutely","completely","totally","quite","rather","pretty","fairly","somewhat","kind","sort","type","way","time","times","day","days","week","weeks","month","months","year","years","today","yesterday","tomorrow","morning","afternoon","evening","night","tonight","weekend","monday","tuesday","wednesday","thursday","friday","saturday","sunday","january","february","march","april","may","june","july","august","september","october","november","december"]),a=e.replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>2&&!s.has(e)),r={};return a.forEach(e=>{r[e]=(r[e]||0)+1}),Object.entries(r).map(e=>{let[t,s]=e;return{word:t,count:s}}).sort((e,t)=>t.count-e.count).slice(0,30)},[t]),getWordSize=(e,t)=>12+e/t*20,getWordColor=e=>{let t=["text-gold-main","text-athena-blue","text-green-600","text-purple-600","text-red-600","text-indigo-600","text-teal-600","text-pink-600","text-orange-600","text-cyan-600"];return t[e%t.length]};if(!t||0===t.length)return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"☁️"}),"Word Cloud"]}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDD"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-cinzel mb-2",children:"No Words to Analyze"}),(0,a.jsx)("p",{className:"text-base",children:"Start journaling to see your most used words."})]})]});let n=Math.max(...s.map(e=>e.count));return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"☁️"}),"Your Word Cloud"]}),(0,a.jsx)("div",{className:"relative w-full h-64 sm:h-80 mb-6 overflow-hidden rounded-xl bg-gradient-to-br from-blue-50/30 to-purple-50/30 border border-gold-main/20 flex flex-wrap items-center justify-center p-4",children:s.map((e,t)=>{let s=getWordSize(e.count,n),r=getWordColor(t);return(0,a.jsx)("span",{className:"font-medium hover:scale-110 transition-transform duration-300 cursor-pointer fade-in ".concat(r),style:{fontSize:"".concat(s,"px"),animationDelay:"".concat(.1*t,"s"),margin:"2px 4px"},title:"".concat(e.word,": ").concat(e.count," times"),children:e.word},e.word)})}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:s.slice(0,12).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/60 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 truncate",children:e.word}),(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.count})]},e.word))}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-gradient-to-r from-athena-blue/5 to-blue-50/50 rounded-lg border border-athena-blue/20",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[(0,a.jsx)("span",{className:"font-semibold text-athena-blue",children:"Insight:"})," These are the words that appear most frequently in your journal entries, revealing your thoughts and experiences."]})})]})},components_WritingPatterns=e=>{var t;let{entries:s}=e,n=(0,r.useMemo)(()=>{if(!s||0===s.length)return null;let e={totalEntries:s.length,totalWords:0,avgWordsPerEntry:0,longestEntry:0,shortestEntry:1/0,timeOfDay:{morning:0,afternoon:0,evening:0,night:0},dayOfWeek:{monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0,sunday:0},entryLengths:[],writingStreak:0,avgSentiment:0},t=0;s.forEach(s=>{var a;let r=s.journalText.split(/\s+/).length;e.totalWords+=r,e.entryLengths.push(r),e.longestEntry=Math.max(e.longestEntry,r),e.shortestEntry=Math.min(e.shortestEntry,r);let n=new Date(s.createdAt).getHours();n>=5&&n<12?e.timeOfDay.morning++:n>=12&&n<17?e.timeOfDay.afternoon++:n>=17&&n<22?e.timeOfDay.evening++:e.timeOfDay.night++;let i=new Date(s.createdAt).toLocaleDateString("en",{weekday:"long"}).toLowerCase();if(e.dayOfWeek[i]++,null===(a=s.azureAnalysis)||void 0===a?void 0:a.sentiment){let e="positive"===s.azureAnalysis.sentiment?1:"negative"===s.azureAnalysis.sentiment?-1:0;t+=e}}),e.avgWordsPerEntry=Math.round(e.totalWords/e.totalEntries),e.avgSentiment=t/e.totalEntries;let a=s.map(e=>new Date(e.createdAt).toDateString()).sort().filter((e,t,s)=>s.indexOf(e)===t),r=0,n=new Date().toDateString(),i=new Date(Date.now()-864e5).toDateString();if(a.includes(n)){r=1;for(let e=a.length-2;e>=0;e--){let t=new Date(a[e+1]),s=new Date(a[e]),n=(t-s)/864e5;if(1===n)r++;else break}}else if(a.includes(i)){r=1;for(let e=a.length-2;e>=0;e--){let t=new Date(a[e+1]),s=new Date(a[e]),n=(t-s)/864e5;if(1===n)r++;else break}}return e.writingStreak=r,e},[s]);if(!s||0===s.length)return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCCA"}),"Writing Patterns"]}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDD"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-cinzel mb-2",children:"No Patterns Yet"}),(0,a.jsx)("p",{className:"text-base",children:"Start journaling to discover your writing habits."})]})]});let getTimeOfDayLabel=e=>{switch(e){case"morning":return"Morning (5AM-12PM)";case"afternoon":return"Afternoon (12PM-5PM)";case"evening":return"Evening (5PM-10PM)";case"night":return"Night (10PM-5AM)";default:return e}},getDayOfWeekLabel=e=>e.charAt(0).toUpperCase()+e.slice(1),i=(t=n.avgSentiment)>.3?{label:"Generally Positive",color:"text-green-600",emoji:"\uD83D\uDE0A"}:t<-.3?{label:"Generally Reflective",color:"text-blue-600",emoji:"\uD83E\uDD14"}:{label:"Balanced",color:"text-gray-600",emoji:"\uD83D\uDE10"};return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-6 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDCCA"}),"Your Writing Patterns"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-gold-main/10 to-yellow-100 rounded-lg border border-gold-main/20",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gold-main",children:n.totalEntries}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:"Total Entries"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-athena-blue/10 to-blue-100 rounded-lg border border-athena-blue/20",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-athena-blue",children:n.avgWordsPerEntry}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:"Avg Words"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-500/10 to-green-100 rounded-lg border border-green-500/20",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.writingStreak}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:"Day Streak"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-500/10 to-purple-100 rounded-lg border border-purple-500/20",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:n.totalWords}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:"Total Words"})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Entry Length Analysis"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-white/60 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-800",children:n.shortestEntry}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Shortest Entry"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-white/60 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-800",children:n.longestEntry}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Longest Entry"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-white/60 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-800",children:i.emoji}),(0,a.jsx)("div",{className:"text-sm ".concat(i.color),children:i.label})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Time of Day"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(n.timeOfDay).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white/60 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:getTimeOfDayLabel(t)}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gold-main h-2 rounded-full transition-all duration-500",style:{width:"".concat(s/n.totalEntries*100,"%")}})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600 w-8",children:s})]})]},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Day of Week"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(n.dayOfWeek).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white/60 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:getDayOfWeekLabel(t)}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-athena-blue h-2 rounded-full transition-all duration-500",style:{width:"".concat(s/n.totalEntries*100,"%")}})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600 w-8",children:s})]})]},t)})})]})]}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-r from-athena-blue/5 to-blue-50/50 rounded-lg border border-athena-blue/20",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[(0,a.jsx)("span",{className:"font-semibold text-athena-blue",children:"Insight:"})," You write most during"," ",Object.entries(n.timeOfDay).reduce((e,t)=>n.timeOfDay[e[0]]>n.timeOfDay[t[0]]?e:t)[0]," ","and on ",Object.entries(n.dayOfWeek).reduce((e,t)=>n.dayOfWeek[e[0]]>n.dayOfWeek[t[0]]?e:t)[0],"s."]})})]})};function VoiceRecorder(e){let{onTranscription:t,onSentiment:s,isRecording:n,setIsRecording:i}=e,[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),[h,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)({}),[f,b]=(0,r.useState)(null),[y,v]=(0,r.useState)(""),j=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){o(!0),initializeSpeechRecognition();let e={userAgent:navigator.userAgent,isSecureContext:window.isSecureContext,protocol:window.location.protocol,hostname:window.location.hostname,speechRecognitionSupported:!0,speechRecognitionType:"webkitSpeechRecognition"in window?"webkit":"standard"};p(e)}},[]);let initializeSpeechRecognition=()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;j.current=new e,j.current.continuous=!0,j.current.interimResults=!0,j.current.lang="en-US",j.current.maxAlternatives=1,j.current.onresult=e=>{let t="",s="";for(let a=e.resultIndex;a<e.results.length;a++){let r=e.results[a][0].transcript;e.results[a].isFinal?t+=r:s+=r}v(s),t&&(console.log("Final transcript:",t),handleTranscription(t))},j.current.onend=()=>{console.log("Speech recognition ended"),i(!1),b(null),v("")},j.current.onerror=e=>{console.error("Speech recognition error:",e.error),i(!1),b(null),v("");let t="Speech recognition failed. ";switch(e.error){case"no-speech":t+="No speech was detected. Please try speaking more clearly.";break;case"audio-capture":t+="Microphone not found or not accessible.";break;case"not-allowed":t+="Microphone permission denied. Please allow microphone access.";break;case"network":t+="Network error occurred during speech recognition.";break;case"aborted":t+="Speech recognition was aborted.";break;default:t+="Unknown error: ".concat(e.error)}u(t)},j.current.onstart=()=>{console.log("Speech recognition started"),i(!0),b(Date.now()),u(null)}},requestMicrophonePermission=async()=>{try{u(null);let e=await navigator.mediaDevices.getUserMedia({audio:!0});x(!0),e.getTracks().forEach(e=>e.stop())}catch(e){console.error("Permission request failed:",e),u("Please allow microphone access in your browser settings and refresh the page.")}},handleTranscription=async e=>{c(!0);try{console.log("Processing transcribed text:",e),t&&e&&t(e);let a=analyzeSentiment(e);s&&a&&s(a)}catch(e){console.error("Error processing transcription:",e),u("Failed to process transcription: ".concat(e.message))}finally{c(!1)}},analyzeSentiment=e=>{let t=e.toLowerCase(),s=["happy","good","great","excellent","wonderful","amazing","love","like","enjoy"].filter(e=>t.includes(e)).length,a=["sad","bad","terrible","awful","hate","dislike","angry","frustrated","worried"].filter(e=>t.includes(e)).length,r="neutral";return s>a?r="positive":a>s&&(r="negative"),{sentiment:r,confidenceScores:{positive:"positive"===r?.8:"neutral"===r?.3:.1,neutral:"neutral"===r?.8:.3,negative:"negative"===r?.8:"neutral"===r?.3:.1}}};return l?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-center",children:h?n?(0,a.jsxs)("button",{onClick:()=>{j.current&&n&&j.current.stop()},className:"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 font-medium",children:[(0,a.jsx)("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-600 rounded-full animate-pulse"})}),(0,a.jsx)("span",{children:"Stop Recording"}),(0,a.jsx)("div",{className:"text-xl",children:"⏹️"})]}):(0,a.jsxs)("button",{onClick:()=>{if(!j.current){u("Speech recognition not initialized. Please refresh the page.");return}try{u(null),j.current.start()}catch(e){console.error("Error starting speech recognition:",e),u("Failed to start speech recognition. Please try again.")}},disabled:d,className:"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-medium",children:[(0,a.jsx)("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),(0,a.jsx)("span",{children:d?"Processing...":"Start Recording"}),(0,a.jsx)("div",{className:"text-xl",children:d?"⏳":"\uD83C\uDF99️"})]}):(0,a.jsxs)("button",{onClick:requestMicrophonePermission,className:"group flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-2xl transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 font-medium",children:[(0,a.jsx)("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),(0,a.jsx)("span",{children:"Enable Microphone"}),(0,a.jsx)("div",{className:"text-xl",children:"\uD83C\uDFA4"})]})}),n&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"status-indicator status-recording",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{children:"Listening... Speak clearly"}),(0,a.jsx)("div",{className:"text-lg",children:"\uD83C\uDF99️"})]}),f&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 mt-3 bg-gray-100 px-3 py-1 rounded-full inline-block",children:["Duration: ",Math.floor((Date.now()-f)/1e3),"s"]})]}),y&&(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[(0,a.jsxs)("p",{className:"text-blue-800 text-sm italic",children:['"',y,'"']}),(0,a.jsx)("p",{className:"text-blue-600 text-xs mt-1",children:"Listening..."})]}),d&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"status-indicator status-processing",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Processing speech..."}),(0,a.jsx)("div",{className:"text-lg",children:"⏳"})]})}),m&&(0,a.jsxs)("div",{className:"text-center p-4 bg-red-50 border border-red-200 rounded-xl shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"⚠️"}),(0,a.jsx)("p",{className:"text-red-800 font-medium",children:"Error"})]}),(0,a.jsx)("p",{className:"text-red-700 text-sm",children:m}),(0,a.jsx)("button",{onClick:()=>u(null),className:"mt-3 text-sm text-red-600 hover:text-red-800 underline bg-white px-3 py-1 rounded-full border border-red-200 hover:bg-red-50 transition-colors",children:"Dismiss"})]}),(0,a.jsx)("div",{className:"text-center text-sm text-gray-600 bg-gray-50 p-4 rounded-xl border border-gray-200",children:h?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"\uD83D\uDCAC"}),(0,a.jsx)("p",{className:"text-gray-700 font-medium",children:"Voice Recording Ready"})]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Click to start recording your voice, then speak your journal entry."}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"Your speech will be transcribed in real-time using your browser's built-in speech recognition."})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"\uD83C\uDFA4"}),(0,a.jsx)("p",{className:"text-blue-600 font-medium",children:"Microphone access required for voice recording"})]}),(0,a.jsx)("p",{className:"text-gray-600",children:'Click "Enable Microphone" to allow voice recording, then speak your journal entry.'})]})}),!1]}):(0,a.jsxs)("div",{className:"text-center p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-yellow-800",children:"Speech recognition is not supported in this browser."}),(0,a.jsx)("p",{className:"text-yellow-700 text-sm mt-2",children:"Please use Chrome, Edge, or Safari for voice recording."})]})}let runAzureAnalysis=async e=>{try{let t=await fetch("/api/ai/azure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journalText:e})});if(!t.ok)throw Error("Azure API error: ".concat(t.status));let s=await t.json();return s}catch(e){throw console.error("Azure analysis failed:",e),e}},runGeminiOracle=async(e,t)=>{try{let s=await fetch("/api/ai/gemini",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journalText:e,azureAnalysis:t})});if(!s.ok)throw Error("Gemini API error: ".concat(s.status));let a=await s.json();return a.response}catch(e){throw console.error("Gemini oracle failed:",e),e}},runDemoMode=async e=>{try{let t=await fetch("/api/demo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journalText:e})});if(!t.ok)throw Error("Demo API error: ".concat(t.status));let s=await t.json();return s}catch(e){throw console.error("Demo mode failed:",e),e}},JournalForm=e=>{let{onSubmit:t,isLoading:s,loadingStep:n,setLoadingStep:i,setIsLoading:l}=e,[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),handleSubmit=async e=>{if(e.preventDefault(),o.trim()){console.log("Setting loading state to true"),l(!0),i("azure");try{let e,s;try{console.log("Starting Azure analysis..."),e=await runAzureAnalysis(o),console.log("Azure analysis complete"),i("gemini"),console.log("Starting Gemini oracle..."),s=await runGeminiOracle(o,e),console.log("Gemini oracle complete")}catch(t){console.log("AI services failed, using demo mode:",t);try{i("gemini");let t=await runDemoMode(o);e=t.azureAnalysis,s=t.athenaResponse}catch(t){console.log("Demo mode also failed, using local fallback:",t),e={sentiment:"neutral",confidenceScores:{positive:.33,neutral:.34,negative:.33}},s=(e=>{let t=e.toLowerCase(),s=[];return t.includes("work")||t.includes("job")?s.push("Listen well, brave one, I see you wrestling with the forge of your career. Like Hephaestus crafting his finest works, true mastery comes not from avoiding challenges, but from embracing them. Your hands are meant for great things. May wisdom guide your path. - Athena","I see your hands at work, mortal, shaping your destiny through labor. The craftsman's path is never easy, but each challenge hones your blade sharper. Remember: even the greatest temples were built stone by stone. May wisdom guide your path. - Athena","The threads of fate reveal your professional journey, and I see both struggle and triumph ahead. Like the weaver who creates beauty from chaos, you too can transform challenges into opportunities. May wisdom guide your path. - Athena"):t.includes("relationship")||t.includes("love")?s.push("Fear not, for I am with you in matters of the heart. Love, like the olive tree, grows slowly but bears the sweetest fruit. Speak your truth with courage, listen with compassion. May wisdom guide your path. - Athena","Let me share with you the wisdom of the ages: relationships are like the intricate tapestries I weave - each thread matters, each color adds depth. Be patient with yourself and others. May wisdom guide your path. - Athena","Hearken, mortal soul, I feel the weight of your heart's desires. Like the warrior who protects what they love, guard your relationships with both strength and gentleness. May wisdom guide your path. - Athena"):t.includes("anxiety")||t.includes("worry")?s.push("Listen well, brave one, for I have faced many battles and know the weight of worry. Like the warrior who prepares for battle, your anxiety is not weakness but preparation. Channel this energy into action. May wisdom guide your path. - Athena","The threads of fate show me your troubled mind, but I also see your inner strength. Like the olive tree that bends in the storm but never breaks, you too will weather this tempest. May wisdom guide your path. - Athena","I see your hands trembling with worry, but know this: courage is not the absence of fear, but action in spite of it. Like the craftsman who works through uncertainty, focus on the task before you. May wisdom guide your path. - Athena"):s.push("Hearken, mortal soul, I sense the depth of your contemplation. Your words carry the weight of genuine reflection, and I am honored by your trust. In the quiet moments of self-examination, we often discover our greatest truths. May wisdom guide your path. - Athena","Listen well, seeker, for I hear the echoes of your thoughts. Like the weaver who creates beauty from simple threads, you too are crafting something meaningful from your experiences. May wisdom guide your path. - Athena","The threads of fate reveal a thoughtful soul before me. Like the olive tree that grows stronger with each season, your wisdom deepens with each reflection. May wisdom guide your path. - Athena"),s[Math.floor(Math.random()*s.length)]})(o)}}i("saving"),await t({journalText:o,azureAnalysis:e,athenaResponse:s}),d("")}catch(e){console.error("Error in journal submission:",e),alert("Your reflection has been recorded. The divine wisdom flows through you."),d("")}finally{l(!1),i("")}}};return(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10 mb-8 sm:mb-12 slide-up relative",children:[s&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-md rounded-xl z-10 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-athena-blue/20 border-t-athena-blue mx-auto mb-6"}),(0,a.jsx)("p",{className:"text-xl font-cinzel text-athena-blue mb-2",children:"Processing your thoughts..."}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"azure"===n?"Analyzing with Azure AI...":"gemini"===n?"Consulting the Oracle...":"Preparing response..."})]})}),(0,a.jsx)("h2",{className:"section-header",children:"The Sacred Altar"}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"journalText",className:"block text-lg sm:text-xl font-cinzel text-athena-blue mb-6 text-center",children:"Share Your Thoughts with the Divine"}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(VoiceRecorder,{onTranscription:e=>{d(t=>t+(t?" ":"")+e)},onSentiment:e=>{console.log("Voice sentiment received:",e)},isRecording:c,setIsRecording:m})}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("textarea",{id:"journalText",value:o,onChange:e=>d(e.target.value),placeholder:"Speak your truth, mortal. What weighs upon your heart and mind? Share your deepest thoughts, fears, hopes, and dreams...",className:"w-full h-48 sm:h-56 p-6 border-2 border-gold-main/30 rounded-xl resize-none focus:outline-none focus:border-gold-main text-gray-800 placeholder-gray-500 text-base sm:text-lg leading-relaxed transition-all duration-300 hover:border-gold-main/50 group-hover:shadow-lg bg-gradient-to-br from-white to-gray-50/50 ".concat(s?"opacity-60 loading-breathe":""),disabled:s}),(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 text-xs px-2 py-1 rounded-full transition-colors ".concat(o.length>900?"text-red-600 bg-red-100":o.length>700?"text-yellow-600 bg-yellow-100":"text-gray-400 bg-white/80"),children:[o.length,"/1000"]}),(0,a.jsx)("div",{className:"absolute top-4 left-4 text-2xl opacity-20",children:"\uD83D\uDCDC"})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("button",{type:"submit",disabled:s||!o.trim(),className:"altar-button disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ".concat(s?"loading-shimmer":""),children:s?(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-athena-blue/30"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-athena-blue border-t-transparent absolute top-0 left-0",style:{animationDirection:"reverse",animationDuration:"0.8s"}})]}),(0,a.jsx)("span",{className:"text-lg font-medium",children:"azure"===n?"Analyzing emotions...":"gemini"===n?"Seeking Athena's counsel...":"saving"===n?"Recording in the archives...":"Seeking Athena's Counsel..."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 ".concat("azure"===n?"text-athena-blue":"gemini"===n||"saving"===n?"text-green-600":""),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("azure"===n?"bg-athena-blue animate-pulse":"gemini"===n||"saving"===n?"bg-green-600":"bg-gray-300")}),(0,a.jsx)("span",{children:"Emotions"})]}),(0,a.jsx)("div",{className:"w-4 h-px bg-gray-300"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ".concat("gemini"===n?"text-athena-blue":"saving"===n?"text-green-600":""),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("gemini"===n?"bg-athena-blue animate-pulse":"saving"===n?"bg-green-600":"bg-gray-300")}),(0,a.jsx)("span",{children:"Wisdom"})]}),(0,a.jsx)("div",{className:"w-4 h-px bg-gray-300"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ".concat("saving"===n?"text-athena-blue":""),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("saving"===n?"bg-athena-blue animate-pulse":"bg-gray-300")}),(0,a.jsx)("span",{children:"Save"})]})]})]}):(0,a.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDD2E"}),(0,a.jsx)("span",{children:"Seek Athena's Counsel"})]})}),o.length>0&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:o.length<10?"Share more of your thoughts...":o.length<50?"The gods appreciate your honesty...":"Athena awaits your words..."})]})]})]})},JournalHistory=e=>{let{entries:t,isLoading:s}=e;return s?(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsx)("h2",{className:"section-header",children:"The Sacred Archives"}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsxs)("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-gold-main/20"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-gold-main border-t-transparent absolute top-0 left-0",style:{animationDirection:"reverse",animationDuration:"1.2s"}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-2xl animate-pulse",children:"\uD83D\uDCDC"})})]}),(0,a.jsx)("p",{className:"text-lg font-cinzel mb-2",children:"Consulting the ancient scrolls..."}),(0,a.jsx)("p",{className:"text-sm",children:"Gathering divine wisdom from the archives"}),(0,a.jsxs)("div",{className:"flex justify-center mt-4 space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gold-main rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gold-main rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gold-main rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}):0===t.length?(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsx)("h2",{className:"section-header",children:"The Sacred Archives"}),(0,a.jsxs)("div",{className:"text-center text-gray-600 py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDC"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl font-cinzel mb-2",children:"The Archives Await Your Wisdom"}),(0,a.jsx)("p",{className:"text-base",children:"Begin your journey by seeking Athena's counsel above."})]})]}):(0,a.jsxs)("div",{className:"temple-container p-8 sm:p-10",children:[(0,a.jsx)("h2",{className:"section-header",children:"The Sacred Archives"}),(0,a.jsx)("div",{className:"space-y-10",children:t.map((e,t)=>{var s,r,n,i,l,o,d,c,m;return(0,a.jsxs)("div",{className:"border-b border-gold-main/20 pb-10 last:border-b-0 fade-in",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,a.jsxs)("div",{className:"mortal-reflection mb-6 sm:mb-8",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"\uD83D\uDC64"}),"Mortal's Reflection"]}),(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed text-base sm:text-lg mb-6",children:e.journalText}),(0,a.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[(0,a.jsxs)("p",{className:"font-semibold mb-4 text-athena-blue flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83E\uDDE0"}),"Azure AI Sentiment Analysis"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,a.jsx)("div",{className:"sentiment-card ".concat((null===(s=e.azureAnalysis)||void 0===s?void 0:s.sentiment)==="positive"?"sentiment-positive":(null===(r=e.azureAnalysis)||void 0===r?void 0:r.sentiment)==="negative"?"sentiment-negative":"sentiment-neutral"),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-athena-blue capitalize",children:null===(n=e.azureAnalysis)||void 0===n?void 0:n.sentiment}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Overall"})]})}),(0,a.jsx)("div",{className:"sentiment-card sentiment-positive",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-green-600",children:[Math.round(100*((null===(l=e.azureAnalysis)||void 0===l?void 0:null===(i=l.confidenceScores)||void 0===i?void 0:i.positive)||0)),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Positive"})]})}),(0,a.jsx)("div",{className:"sentiment-card sentiment-neutral",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-600",children:[Math.round(100*((null===(d=e.azureAnalysis)||void 0===d?void 0:null===(o=d.confidenceScores)||void 0===o?void 0:o.neutral)||0)),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Neutral"})]})}),(0,a.jsx)("div",{className:"sentiment-card sentiment-negative",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-red-600",children:[Math.round(100*((null===(m=e.azureAnalysis)||void 0===m?void 0:null===(c=m.confidenceScores)||void 0===c?void 0:c.negative)||0)),"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Negative"})]})})]})]})]}),(0,a.jsxs)("div",{className:"oracle-response",children:[(0,a.jsxs)("h3",{className:"text-xl sm:text-2xl font-cinzel font-semibold text-athena-blue mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"⚡"}),"Athena's Prophecy"]}),(0,a.jsx)("p",{className:"text-gray-800 leading-relaxed italic text-base sm:text-lg",children:e.athenaResponse})]}),(0,a.jsxs)("div",{className:"mt-6 text-sm text-gray-500 text-right flex items-center justify-end",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDD50"}),(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleString()})]})]},e.id||t)})})]})};function Home(){let{currentUser:e,logout:t}=(0,l.useAuth)(),[s,n]=(0,r.useState)([]),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!0),[x,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)("login"),[b,y]=(0,r.useState)("journal");(0,r.useEffect)(()=>{let loadEntries=async()=>{if(!e){h(!1);return}try{var t;let e=null===(t=document.cookie.split("; ").find(e=>e.startsWith("token=")))||void 0===t?void 0:t.split("=")[1],s=await fetch("/api/journal/entries",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();n(e.entries)}}catch(e){console.error("Failed to load entries:",e)}finally{h(!1)}};loadEntries()},[e]);let handleJournalSubmit=async t=>{if(!e){f("login"),g(!0);return}try{var s;let e=null===(s=document.cookie.split("; ").find(e=>e.startsWith("token=")))||void 0===s?void 0:s.split("=")[1],a=await fetch("/api/journal/entries",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to save journal entry");let r=await fetch("/api/journal/entries",{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();n(e.entries)}}catch(e){throw console.error("Error saving journal entry:",e),e}};return(0,a.jsxs)("main",{className:"min-h-screen py-8 px-4 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,a.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gold-main/5 rounded-full blur-xl animate-float"}),(0,a.jsx)("div",{className:"absolute top-40 right-20 w-24 h-24 bg-athena-blue/10 rounded-full blur-lg animate-float",style:{animationDelay:"2s"}}),(0,a.jsx)("div",{className:"absolute bottom-20 left-1/4 w-40 h-40 bg-marble-light/20 rounded-full blur-2xl animate-float",style:{animationDelay:"4s"}}),(0,a.jsx)("div",{className:"absolute bottom-40 right-1/3 w-28 h-28 bg-gold-main/8 rounded-full blur-xl animate-float",style:{animationDelay:"6s"}})]}),(0,a.jsx)("div",{className:"fixed top-4 left-4 z-50",children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg border border-gold-main/20",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"Athena's Journal"})]})})}),(0,a.jsx)("nav",{className:"absolute top-4 right-4 z-50",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/landing",className:"text-sm text-gray-600 hover:text-athena-blue transition-colors",children:"About"}),e?(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",e.name]}),(0,a.jsx)("button",{onClick:t,className:"text-sm text-gray-600 hover:text-athena-blue transition-colors",children:"Logout"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{f("login"),g(!0)},className:"text-sm text-gray-600 hover:text-athena-blue transition-colors",children:"Login"}),(0,a.jsx)("button",{onClick:()=>{f("signup"),g(!0)},className:"text-sm bg-athena-blue text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition-colors",children:"Sign Up"})]})]})}),(0,a.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8 fade-in",children:[(0,a.jsx)("h1",{className:"temple-header mb-6",children:"Athena's Journal"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl text-gray-700 max-w-2xl mx-auto leading-relaxed",children:"Seek divine wisdom through the ancient art of journaling. Share your thoughts with Athena, goddess of wisdom, and receive her counsel through the power of AI."}),!e&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gold-main/10 border border-gold-main/30 rounded-lg max-w-md mx-auto",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Sign in to save your journal entries and access your personal wisdom archive."}),(0,a.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{f("login"),g(!0)},className:"text-sm bg-athena-blue text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Sign In"}),(0,a.jsx)("button",{onClick:()=>{f("signup"),g(!0)},className:"text-sm border border-athena-blue text-athena-blue px-4 py-2 rounded-lg hover:bg-athena-blue hover:text-white transition-colors",children:"Create Account"})]})]})]}),e&&(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-1 border border-gold-main/30",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("button",{onClick:()=>y("journal"),className:"px-6 py-2 rounded-md text-sm font-medium transition-colors ".concat("journal"===b?"bg-athena-blue text-white":"text-gray-600 hover:text-athena-blue"),children:"\uD83D\uDCDC Journal"}),(0,a.jsx)("button",{onClick:()=>y("journey"),className:"px-6 py-2 rounded-md text-sm font-medium transition-colors ".concat("journey"===b?"bg-athena-blue text-white":"text-gray-600 hover:text-athena-blue"),children:"\uD83D\uDEE4️ Journey"}),(0,a.jsx)("button",{onClick:()=>y("insights"),className:"px-6 py-2 rounded-md text-sm font-medium transition-colors ".concat("insights"===b?"bg-athena-blue text-white":"text-gray-600 hover:text-athena-blue"),children:"\uD83D\uDD0D Insights"})]})})}),"journal"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(JournalForm,{onSubmit:handleJournalSubmit,isLoading:o,loadingStep:c,setLoadingStep:m,setIsLoading:d}),(0,a.jsx)(JournalHistory,{entries:s,isLoading:u})]}),"journey"===b&&e&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(CalendarStreak,{entries:s}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,a.jsx)(SentimentGraph,{entries:s}),(0,a.jsx)(components_MoodTimeline,{entries:s})]})]}),"insights"===b&&e&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,a.jsx)(components_TopicAnalysis,{entries:s}),(0,a.jsx)(components_WordCloud,{entries:s})]}),(0,a.jsx)(components_WritingPatterns,{entries:s})]})]}),(0,a.jsx)(AuthModal,{isOpen:x,onClose:()=>g(!1),mode:p})]})}}},function(e){e.O(0,[176,971,472,744],function(){return e(e.s=7627)}),_N_E=e.O()}]);