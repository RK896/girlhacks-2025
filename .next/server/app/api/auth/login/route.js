"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},5762:(e,r,a)=>{a.r(r),a.d(r,{headerHooks:()=>w,originalPathname:()=>_,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>x});var t={};a.r(t),a.d(t,{POST:()=>POST});var o=a(884),s=a(6132),i=a(5798),n=a(7547),u=a(2017),l=a(6721),p=a.n(l);async function POST(e){try{let{email:r,password:a}=await e.json();if(!r||!a)return i.Z.json({error:"Email and password are required"},{status:400});await (0,n.Z)();let t=await u.Z.findOne({email:r});if(!t)return i.Z.json({error:"Invalid email or password"},{status:401});let o=await t.comparePassword(a);if(!o)return i.Z.json({error:"Invalid email or password"},{status:401});t.lastLogin=new Date,await t.save();let s=p().sign({userId:t._id,email:t.email},process.env.JWT_SECRET,{expiresIn:"7d"});return i.Z.json({message:"Login successful",user:{id:t._id,email:t.email,name:t.name},token:s})}catch(e){return console.error("Login error:",e),i.Z.json({error:"Internal server error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/Users/rohit/Documents/Projects/girlhacks-2025/app/api/auth/login/route.js",nextConfigOutput:"",userland:t}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g,headerHooks:w,staticGenerationBailout:x}=d,_="/api/auth/login/route"}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[997,414,841],()=>__webpack_exec__(5762));module.exports=a})();